<!DOCTYPE html>
<html lang="en">
<head>
<title> StatGraphTopic005 &lt; CTSpedia &lt; Foswiki</title>
		  <meta charset="utf-8" />
		  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
		  <meta name="robots" content="noindex" />
		  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
		  <meta name="mobile-web-app-capable" content="yes" />
		  <meta name="mobile-web-app-status-bar-style" content="black-translucent" />
		  <meta name="apple-mobile-web-app-capable" content="yes" />
		  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> <link href="WebRss.html" rel="alternate" title="RSS Feed" type="application/rss+xml">
<link type="image/x-icon" href="../MISSING RESOURCE CTSpedia/StatGraphTopic005/favicon.ico" rel="icon"> <link rel="shortcut icon" href="../MISSING RESOURCE CTSpedia/StatGraphTopic005/favicon.ico" type="image/x-icon">
<link href="StatGraphTopic005.html" rel="alternate" type="application/x-wiki" title="edit StatGraphTopic005">
<meta name="description" content="StatGraphTopic005" />
	 <!--[if IE]></base><![endif]-->
<link type="text/css" media="all" href="../System/SkinTemplates.attachments/base.css" rel="stylesheet">
<link type="text/css" media="all" href="../System/SkinTemplates.attachments/default.css" rel="stylesheet">
<!--[if IE]><style type="text/css" media="screen">
pre {
	overflow-x:auto;
	padding-bottom:expression(this.scrollWidth > this.offsetWidth ? 16 : 0);
}
</style>
<![endif]-->

<link href="../System/SmiliesPlugin.attachments/smilies.css" rel="stylesheet" class="head SMILIESPLUGIN" type="text/css" media="all"><!--SMILIESPLUGIN-->
<script class="script JQUERYPLUGIN" src="../System/JQueryPlugin.attachments/jquery-2.2.4.js"></script><!--JQUERYPLUGIN-->
<script class="script JQUERYPLUGIN::OBSERVER" src="../System/JQueryPlugin.attachments/plugins/observer/observer.js?version=0.1"></script><!--JQUERYPLUGIN::OBSERVER-->
<script src="../System/JQueryPlugin.attachments/plugins/migrate/jquery.migrate.js?version=3.3.1" class="script JQUERYPLUGIN::MIGRATE"></script><!--JQUERYPLUGIN::MIGRATE-->
<script src="../System/JQueryPlugin.attachments/plugins/foswiki/jquery.foswiki.js?version=3.01" class="script JQUERYPLUGIN::FOSWIKI"></script><!--JQUERYPLUGIN::FOSWIKI-->
<script class="script JQUERYPLUGIN::BROWSER" src="../System/JQueryPlugin.attachments/plugins/browser/jquery.browser.js?version=0.1.0"></script><!--JQUERYPLUGIN::BROWSER-->
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "URLHOST" : "http://biostat1478.dhcp.mc.vanderbilt.edu",
   "PUBURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/pub",
   "SYSTEMWEB" : "System",
   "SCRIPTSUFFIX" : "",
   "WEB" : "CTSpedia",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "USERNAME" : "admin",
   "WIKINAME" : "AdminUser",
   "SCRIPTURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/bin",
   "SCRIPTURLPATH" : "/foswiki/bin",
   "PUBURLPATH" : "/foswiki/pub",
   "SKIN" : "natedit,pattern",
   "SERVERTIME" : "16 Feb 2023 - 10:32",
   "TOPIC" : "StatGraphTopic005",
   "COOKIEREALM" : "",
   "USERSWEB" : "Main",
   "WIKIUSERNAME" : "Main.AdminUser",
   "SCRIPTURLPATHS" : {}
}
</script><!--JQUERYPLUGIN::FOSWIKI::PREFERENCES-->

</head> 
<body class="foswikiNoJs  foswikiHasChangePermission foswikiLoggedIn"><div class="foswikiPage">
<span id="PageTop"></span> <div class="foswikiMain"><h1></h1><a href="StatGraphHome.html">Return to Statistical Graphics Home</a>
<p></p>
<p></p>
<h2 id="Please_rate_the_graphic:">  Please rate the graphic: </h2>
<p></p> <ul>
<li> 5 stars = highest rating
</li> <li> 1 star = lowest rating
</li> <li> SCORE = average of all votes
</li></ul> 
<p></p>
%VOTE{id="Evalgraph" stars1="Graph Rating" global="off" open="off" secret="off" format="| $key | $small<br /><small>Score: $score, My vote: $mylast, Total votes: $sum</small> |" }%
<p></p>
<strong>Please add comments and then click on the "Add comment" button.</strong>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
The format is very good but continuous variables have been arbitrarily binned.  The best display would preserve the continuous nature of all continuous variables.
<p></p>
-- <a href="../Main/FrankHarrell.html" rel="nofollow" class="foswikiNewLink" title="Create this topic">FrankHarrell</a> - 18 May 2016
%COMMENT%
<p></p>
<span id="TopicEnd"></span>
<div class="foswikiForm foswikiFormStep"><h3> <a href="OriginalStatGraphicsForm.html">OriginalStatGraphicsForm</a> <span class='foswikiSmall'><a href="StatGraphTopic005.html">edit</a></span></h3><table class='foswikiFormTable' border='1' summary='Form data'><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Image</strong> </td><td> %LIGHTBOX{ image="DotplotSOC.png"  thumbnail = "tn_DotplotSOC.jpg" caption="Dotplot SOC"}%  Click on image to enlarge. </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Title</strong> </td><td> Dotplot of Primary SOC </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Graph_Subgroup</strong> </td><td> General Principles </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Code Added</strong> </td><td> Yes </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Description</strong> </td><td> The following example is a dotplot of the percent of events occurring within a system organ classification for a single treatment group. The SOC are sorted according to the relative frequency.  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Contributor/Email</strong> </td><td> Mat Soukup (email: <a href="mailto&#58;Mat&#46;Soukup&#64;fda&#46;hhs&#46;gov">Mat.Soukup&#64;fda.hhs.gov</a>) <br />Sanjay Matange (email: <a href="mailto&#58;Sanjay&#46;Matange&#64;sas&#46;com">Sanjay.Matange&#64;sas.com</a>) </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Background</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Special Considerations</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Date</strong> </td><td> Original </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Original Date</strong> </td><td> 2007 </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Modified Date</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Use/Suitability</strong> </td><td> Presentation </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Software Program</strong> </td><td> R, SAS </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Software</strong> </td><td> R version 2.10<br />SAS Version 9.40M3 </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>R-Code - Attachment</strong> </td><td> R-script:    <a href="StatGraphTopic005.attachments/dotplotSOC.txt">Dotplot of Primary SOC</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>R-Code</strong> </td><td> library(lattice)<br /><br />set.seed(26)<br />soc <- c('Infections and infestations',&lt;br />            'Neoplasms benign and malignant (incl. cysts and polyps)',<br />            'Blood and the lymphatic system disorders',<br />            'Immune system disorders',<br />            'Endocrine disorders',<br />            'Metabolism and nutrition disorders',<br />            'Psychiatric disorders',<br />            'Nervous system disorders',<br />            'Eye disorders',<br />            'Ear and labyrinth disorders',<br />            'Cardiac disorders',<br />            'Vascular disorders',<br />            'Respiratory, thoracic and mediastinal disorders',<br />            'Gastrointestinal disorders',<br />            'Hepato-biliary disorders',<br />            'Skin and subcutaneous tissue disorders',<br />            'Musculoskeletal, connective tissue and bone disorders',<br />            'Renal and urinary disorders',<br />            'Pregnancy, puerperium and perinatal conditions',<br />            'Reproductive system and breast disorders',<br />            'Congenital and familial/genetic disorders',<br />            'General disorders and administration site conditions',<br />            'Investigations',<br />            'Injury and poisoning',<br />            'Surgical and medical procedures',<br />            'Social circumstances')<br />rate <- round(rnorm(length(soc), 8, 3), 1)&lt;br />ratec <- as.character(rate)&lt;br /># order by most frequent<br />dat <- data.frame(soc, rate, ratec)&lt;br /><br />sortmat <- function (Mat, Sort) { &lt;br />    m <- do.call("order", as.data.frame(Mat[, Sort])) &lt;br />    Mat[m, ] <br />  }<br />  <br />sdat <- sortmat(dat, 2)&lt;br /><br /># Set up the plot<br />levpt <- unique(sdat$soc)&lt;br />  npt <- length(levpt)&lt;br />  <br />png('C:/Research/Graphics/Graphs4Display/webpages/classes/pages/images/DotplotSOC.png',<br />         width=600, height=400)<br />               <br />  # Set-up Layout<br />  mylayout <- layout(matrix(c(1,2,3), byrow=TRUE, ncol=3),&lt;br />          widths=c(4/10,1/10,5/10))<br /><br />  par(mar=c(5,1,2,0))<br />  plot(x=c(0,max(nchar(as.character(sdat$soc)))+1), y=c(.9,npt+.1), ann=FALSE, axes=FALSE, type='n')<br />  title('System Organ Classification')<br />  text(x=rep(max(nchar(as.character(sdat$soc))), npt), y=1:npt, label=sdat$soc, adj=c(1,0.5))<br /><br />  par(mar=c(5,0,2,0))<br />  plot(x=c(0,1), y=c(.9,npt+.1), ann=FALSE, axes=FALSE, type='n')<br />  title('%')<br />  text(x=rep(.5, npt), y=1:npt, label=sdat$ratec, adj=c(0.5,0.5))<br />    <br />  par(mar=c(5,0,2,2))<br />  plot(x=c(0,max(sdat$rate)+.25), y=c(.9,npt+.1), type='n', axes=FALSE, <br />       xlab='Relative Frequency of an Event (%)', ylab='',<br />       ylim=c(.9,npt+.1))<br />  axis(1)<br />  #box()<br />  abline(v=c(0,5,10,15), col='grey80', lty=3, lwd=2)<br />  for(i in 1:npt){<br />    lines(c(0,sdat$rate[i]),c(i,i), lty=1, col='grey60', lwd=2)<br />  }<br />  points(sdat$rate, 1:npt, pch=16, col='black', cex=2)<br />dev.off()  <br /> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>SAS-Code - Attachment</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>SAS-Code</strong> </td><td> %let gpath='.';<br />%let dpi=200;<br />ods html close;<br />ods listing gpath=&amp;gpath image_dpi=&dpi;<br /><br />/*--Create data set--*/<br />data dot;<br />  format Pct percent8.1;<br />  label pct='%';<br />  label classification='System Organ Classification';<br />  input Value Classification $6-65;<br />  Pct=Value/100;<br />  datalines;<br /> 1.6  Infections and infestations<br />11.4  Neoplasms benign and malignant (incl. cysts and polyps)<br /> 6.5  Blood and the lymphatic system disorders<br />10.5  Immune system disorders<br /> 6.8  Endocrine disorders<br /> 8.4  Metabolism and nutrition disorders<br /> 8.4  Psychiatric disorders<br />10.7  Nervous system disorders<br /> 7.9  Eye disorders<br /> 9.3  Ear and labyrinth disorders<br />12.8  Cardiac disorders<br /> 7.9  Vascular disorders<br /> 6.3  Respiratory, thoracic and mediastinal disorders<br />15.1  Gastrointestinal disorders<br /> 8.5  Hepato-biliary disorders<br />11.0  Skin and subcutaneous tissue disorders<br /> 8.1  Musculoskeletal, connective tissue and bone disorders<br /> 4.7  Renal and urinary disorders<br /> 2.8  Pregnancy, puerperium and perinatal conditions<br />10.4  Reproductive system and breast disorders<br /> 6.2  Congenital and familial/genetic disorders<br /> 9.3  General disorders and administration site conditions<br />15.7  Investigations<br /> 9.1  Injury and poisoning<br /> 8.8  Surgical and medical procedures<br /> 5.3  Social circumstances<br />;<br />run;<br /><br />/*--Sort by descending pct--*/<br />proc sort data=dot out=dot_Sort;<br />  by descending pct;<br />run;<br /><br />/*--Create Dot Plot using SAS 9.40M3--*/<br />ods graphics / reset width=5in height=3in imagename='Dotplot_of_Primary_SOC';<br />proc sgplot data=dot_sort noborder;<br />  dropline y=classification x=pct / dropto=y;<br />  scatter y=classification x=pct / markerattrs=(symbol=circlefilled);<br />  yaxistable classification pct / location=outside  position=left pad=10 <br />             valuejustify=right valueattrs=(size=7) labelattrs=(size=8);<br />  xaxis min=0 grid offsetmin=0 label='Relative Frequency of an Event';<br />  yaxis fitpolicy=none valueattrs=(size=7) reverse display=none;<br />run; </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Stata-Code - Attachment</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Stata-Code</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Other Code - Attachment</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Other Code</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Keywords</strong> </td><td> safety, events, system organ classification, treatment group </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>OPTIONAL FIELDS</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>References</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Datasets</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Data</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Attached Data</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>CATEGORIZATIONS</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Classification-Evaluation</strong> </td><td> Safety </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Classification-Graph Type</strong> </td><td> <a href="StatGraphClassTopic003.html">Dotplot</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Graph_Type</strong> </td><td> <a href="DotplotExamples.html">Dotplot</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Variable Relationship</strong> </td><td> Continuous versus Categorical </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Data Types</strong> </td><td> Categorical and Continuous </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Special Cases</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Disclaimer</strong> </td><td> The views expressed within CTSpedia are those of the author and must not be taken to represent policy or guidance on the behalf of any organization or institution with which the author is affiliated. </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Permission</strong> </td><td> Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: </br> <br>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</br> <br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF ERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT  OLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </br> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Reference Image</strong> </td><td> <img src="https://www.ctspedia.org/wiki/pub/CTSpedia/StatGraphTopic005/DotplotSOC_reference_200.png" alt="DotplotSOC_reference_200.png"> </td></tr></table></div>
This topic: CTSpedia<span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="WebHome.html" class="foswikiCurrentWebHomeLink">WebHome</a> &gt; <a href="StatGraphHome.html">StatGraphHome</a> &gt; <a href="ContributeGraphics.html">ContributeGraphics</a><span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span>StatGraphTopic005 <br />
Topic revision:  <span class='patternRevInfo'>18 May 2016, FrankHarrell</span>
<hr />
<span id="PageBottom"></span>
<div class="foswikiCopyright"><span class="foswikiRight"> <a href="https://foswiki.org/"><img alt="This site is powered by Foswiki" src="../System/ProjectLogos.attachments/foswiki-badge.png" title="This site is powered by Foswiki"></a></span>Copyright &copy; by the contributing authors. All material on this collaboration platform is the property of the contributing authors. <br /> Ideas, requests, problems regarding Foswiki? <a href="mailto:?subject=Foswiki%20Feedback%20on%20CTSpedia.StatGraphTopic005">Send feedback</a></div></div></div>

</body></html>