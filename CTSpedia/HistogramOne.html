<!DOCTYPE html><html lang="en">
<head>
<title>HistogramOne &lt; CTSpedia &lt; Foswiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link href="../MISSING RESOURCE CTSpedia/HistogramOne/favicon.ico" rel="icon" type="image/x-icon"> <link type="image/x-icon" rel="shortcut icon" href="../MISSING RESOURCE CTSpedia/HistogramOne/favicon.ico">
<link title="edit HistogramOne" type="application/x-wiki" rel="alternate" href="HistogramOne.html">
<meta name="description" content="HistogramOne" />
<link type="text/css" media="all" rel="stylesheet" class="head SMILIESPLUGIN" href="../System/SmiliesPlugin.attachments/smilies.css"><!--SMILIESPLUGIN-->
<script class="script JQUERYPLUGIN" src="../System/JQueryPlugin.attachments/jquery-2.2.4.js"></script><!--JQUERYPLUGIN-->
<script class="script JQUERYPLUGIN::OBSERVER" src="../System/JQueryPlugin.attachments/plugins/observer/observer.js?version=0.1"></script><!--JQUERYPLUGIN::OBSERVER-->
<script src="../System/JQueryPlugin.attachments/plugins/migrate/jquery.migrate.js?version=3.3.1" class="script JQUERYPLUGIN::MIGRATE"></script><!--JQUERYPLUGIN::MIGRATE-->
<script class="script JQUERYPLUGIN::FOSWIKI" src="../System/JQueryPlugin.attachments/plugins/foswiki/jquery.foswiki.js?version=3.01"></script><!--JQUERYPLUGIN::FOSWIKI-->
<script class="script JQUERYPLUGIN::BROWSER" src="../System/JQueryPlugin.attachments/plugins/browser/jquery.browser.js?version=0.1.0"></script><!--JQUERYPLUGIN::BROWSER-->
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "USERNAME" : "WikiAdmin",
   "PUBURLPATH" : "/foswiki/pub",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "SCRIPTURLPATHS" : {},
   "WEB" : "CTSpedia",
   "SERVERTIME" : "08 Feb 2023 - 15:50",
   "TOPIC" : "HistogramOne",
   "WIKIUSERNAME" : "Main.WikiAdmin",
   "USERSWEB" : "Main",
   "SKIN" : "natedit,pattern",
   "SCRIPTSUFFIX" : "",
   "SCRIPTURLPATH" : "/foswiki/bin",
   "WIKINAME" : "WikiAdmin",
   "COOKIEREALM" : "",
   "PUBURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/pub",
   "URLHOST" : "http://biostat1478.dhcp.mc.vanderbilt.edu",
   "SYSTEMWEB" : "System",
   "SCRIPTURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/bin"
}
</script><!--JQUERYPLUGIN::FOSWIKI::PREFERENCES-->
</head>
<body>
<h3 id="Type_of_Graph:">  Type of Graph: </h3>
<h3 id="Last_updated_by___on">  Last updated by <strong><em>___</em></strong> on <strong><em>__</em></strong> </h3>
<p></p>
<h3 id="Type_of_data:">  Type of data: </h3>
<h3 id="Type_of_analysis:">  Type of analysis: </h3>
<p></p>
<h3 id="Description_and_purpose:">  Description and purpose: </h3>
<p></p>
<h3 id="Examples:">  Examples: </h3>
<p></p>
<h3 id="Basic_Examples_45_Attached">  Basic Examples - Attached </h3>
<p></p>
<h3 id="Complementary_Graphs_45_Attached">  Complementary Graphs - Attached </h3>
<p></p>
<h3 id="Potential_pitfalls_45_Attached">  Potential pitfalls - Attached </h3>
<p></p>
<strong>Reference</strong>:
<p></p>
<h3 id="Code_40_41:">  Code ( ): </h3>
%CODE{lang="java"}%
<p></p>
%ENDCODE%
<p></p>
<h3 id="Histograms"> Histograms </h3>
<h3 id="Last_updated_by_Richard_Forshee_on_September_17_44_2010"> Last updated by Richard Forshee on September 17, 2010 </h3>
<p></p>
<h3 id="Type_of_data:_continuous"> Type of data:  continuous </h3>
<h3 id="Type_of_analysis:_univariate"> Type of analysis:  univariate </h3>
<p></p>
<h3 id="Description_and_purpose:_AN1"> Description and purpose: </h3>
Histograms are used to represent the distribution of a single continuous variable.  A histogram groups individual observations into bins (mouseover to define) of a specified (usually equal) width and counts the number of observations in each bin.  Rectangles are drawn so that the height (or width for a horizontal histogram) represents the frequency, percentage, or density of the number of observations in each bin.  By convention, the rectangles in a histogram touch one another.
<p></p>
Histograms are distinct from bar charts (link).  Bar charts are for categorical data and by convention the rectangles in a bar chart do not touch.
<p></p>
<h3 id="Examples:_AN1"> Examples: </h3>
All examples use 100 data points that were randomly generated from a Beta(2,5) distribution.  The Beta(2,5) is a skewed distribution that is bounded between 0 and 1.  The actual data is shown in a stem-and-leaf plot.
<p></p>
Stem-and-Leaf Plot of Randomly Generated Data Used for Examples
plot in units of 0.01
<pre>
  0&#42; &#124; 334
  0. &#124; 6778889
  1&#42; &#124; 011112333344
  1. &#124; 5555667889
  2&#42; &#124; 0123333444
  2. &#124; 55666678999
  3&#42; &#124; 00122222222334
  3. &#124; 55566889999
  4&#42; &#124; 011114
  4. &#124; 5567789
  5&#42; &#124; 1223
  5. &#124; 5788
  6&#42; &#124; 1
</pre>
<p></p>
<h3 id="Basic_Histogram_Examples"> Basic Histogram Examples </h3>
 <img alt="pic1.png" height="337" width="661" src="../MISSING RESOURCE CTSpedia/HistogramOne/pic1.png">
<p></p>
<h3 id="Complementary_Graphs:"> Complementary Graphs: </h3>
Kernel density overlays<br>
Theoretical distribution overlays<br>
Rug plots<br>
<img src="../MISSING RESOURCE CTSpedia/HistogramOne/pic2.png" alt="pic2.png" height="336" width="661">
<p></p>
<p></p>
<p></p>
<h3 id="Potential_pitfalls"> Potential pitfalls </h3>
Visual representation is very sensitive to the choice of bin size
 <img src="../MISSING RESOURCE CTSpedia/HistogramOne/pic3.png" alt="pic3.png" height="337" width="661">
<p></p>
<p></p>
<strong>Reference</strong>:  These concepts have been discussed by many authors, but <a href="http://www.stata-journal.com/sjpdf.html?articlenum=gr0003">Cox NJ, Speaking Stata: Graphing distributions, The Stata Journal (2004) 4, Number 1, pp. 66\x9688</a> was particularly helpful as I prepared this description.
<p></p>
<h3 id="Code_40Stata_11_41:"> Code (Stata 11): </h3>
%CODE{lang="java"}%
<strong>********************************************************</strong>
** 
**   Histogram Examples for FDA-Industry-Academia Safety Graphics WG
**   Richard Forshee, FDA/CBER/OBE
**
**   Last updated September 17, 2010
**
**   This file benefited from Cox NJ, Speaking Stata: 
**  Graphing Distributions.  Stata Journal 2004.
**
<strong>********************************************************</strong>
<p></p>
**  Generate random data from a beta distribution alpha=2, beta=5
**  This set of parameters generates highly skewed data between 0 and 1
<p></p>
clear
set seed 85360497 // serial number from the first dollar bill in my wallet
set obs 100
gen x = rbeta(2,5)
<p></p>
label var x "Response Variable, arbitrary scale of 0-1"
<p></p>
stem x, round(0.01)
<p></p>
**  Basic histograms
twoway histogram x, title("Frequency") freq start(0) saving(basic_freq, replace)
twoway histogram x, title("Percentage") percent start(0) saving(basic_perc, replace)
twoway histogram x, title("Density") start(0) saving(basic_dens, replace)
<p></p>
graph combine basic_freq.gph basic_perc.gph basic_dens.gph, ///
 row(1) xsize(6) ysize(3) title("Basic Histogram Examples") ///
 subtitle("Randomly generated data, Beta(2,5) distribution, n=100")
<p></p>
**  Histograms with overlays
<p></p>
**  Kernel Density
twoway (histogram x, start(0)) (kdensity x), ///
 title("Kernel Density Overlay") xtitle("Response Variable, arbitrary scale of 0-1") ///
 legend(order(2) label(2 "Kernel Density")) ///
 saving(over_kd, replace)
<p></p>
**  Normal
summ x    // Generate summary statistics
local m=r(mean)' // Place mean into a local macro
local sd=r(sd)' // Place standard deviation into a local macro
<p></p>
twoway (histogram x, start(0)) (function y=normalden(x,m',sd'), range(0 1)), ///
 title("Normal Distribution Overlay") xtitle("Response Variable, arbitrary scale of 0-1") ///
 legend(order(2) label(2 "Normal Distribution")) ///
 saving(over_normal, replace)
<p></p>
**  Rug Plot
gen pipe = "|"  // Create a vertical line symbol
gen where=-0.1  // Create a variable for vertical placement of the rug plot
<p></p>
**  Histogram with a scatter plot underneath to produce rug plot
<p></p>
histogram x, start(0) ///
 title("Rug Plot Overlay") ///
 saving(over_rug, replace) ///
 plot(scatter where x, ms(none) mlabel(pipe) mlabpos(0)) ///
 legend(off) plotregion(margin(medium)) 
<p></p>
graph combine over_kd.gph over_normal.gph over_rug.gph, ///
 row(1) xsize(6) ysize(3) ///
 title("Histograms with Kernel Density, Normal Distribution, and Rug Plot Overlays") ///
 subtitle("Randomly generated data, Beta(2,5) distribution, n=100")
<p></p>
**  Pitfalls
**  Bin width
<p></p>
histogram x, start(0) width(0.1) ///
 title("0.1 bin width") saving(width_10, replace)
histogram x, start(0) width(0.05) ///
 title("0.05 bin width") saving(width_05, replace)
histogram x, start(0) width(0.01) ///
 title("0.01 bin width") saving(width_01, replace)
<p></p>
graph combine width_10.gph width_05.gph width_01.gph, ///
 title("Bin Width Can Affect the Shape of a Histogram") ///
 subtitle("Randomly generated data, Beta(2,5) distribution, n=100") ///
 row(1) xsize(6) ysize(3)
%ENDCODE%
<p></p>
<p></p>
<p></p>
<p></p>
<p></p>
<hr />
<p></p>
<hr />
<p></p>
</body>