<!DOCTYPE html>
<html lang="en">
<head>
<title> StatGraphTopic008 &lt; CTSpedia &lt; Foswiki</title>
		  <meta charset="utf-8" />
		  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
		  <meta name="robots" content="noindex" />
		  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
		  <meta name="mobile-web-app-capable" content="yes" />
		  <meta name="mobile-web-app-status-bar-style" content="black-translucent" />
		  <meta name="apple-mobile-web-app-capable" content="yes" />
		  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" /> <link title="RSS Feed" type="application/rss+xml" href="WebRss.html" rel="alternate">
<link type="image/x-icon" href="../MISSING RESOURCE CTSpedia/StatGraphTopic008/favicon.ico" rel="icon"> <link type="image/x-icon" rel="shortcut icon" href="../MISSING RESOURCE CTSpedia/StatGraphTopic008/favicon.ico">
<link href="StatGraphTopic008.html" rel="alternate" type="application/x-wiki" title="edit StatGraphTopic008">
<meta name="description" content="StatGraphTopic008" />
	 <!--[if IE]></base><![endif]-->
<link href="../System/SkinTemplates.attachments/base.css" rel="stylesheet" type="text/css" media="all">
<link type="text/css" media="all" href="../System/SkinTemplates.attachments/default.css" rel="stylesheet">
<!--[if IE]><style type="text/css" media="screen">
pre {
	overflow-x:auto;
	padding-bottom:expression(this.scrollWidth > this.offsetWidth ? 16 : 0);
}
</style>
<![endif]-->

<link media="all" type="text/css" class="head SMILIESPLUGIN" rel="stylesheet" href="../System/SmiliesPlugin.attachments/smilies.css"><!--SMILIESPLUGIN-->
<script src="../System/JQueryPlugin.attachments/jquery-2.2.4.js" class="script JQUERYPLUGIN"></script><!--JQUERYPLUGIN-->
<script class="script JQUERYPLUGIN::OBSERVER" src="../System/JQueryPlugin.attachments/plugins/observer/observer.js?version=0.1"></script><!--JQUERYPLUGIN::OBSERVER-->
<script class="script JQUERYPLUGIN::MIGRATE" src="../System/JQueryPlugin.attachments/plugins/migrate/jquery.migrate.js?version=3.3.1"></script><!--JQUERYPLUGIN::MIGRATE-->
<script class="script JQUERYPLUGIN::FOSWIKI" src="../System/JQueryPlugin.attachments/plugins/foswiki/jquery.foswiki.js?version=3.01"></script><!--JQUERYPLUGIN::FOSWIKI-->
<script class="script JQUERYPLUGIN::BROWSER" src="../System/JQueryPlugin.attachments/plugins/browser/jquery.browser.js?version=0.1.0"></script><!--JQUERYPLUGIN::BROWSER-->
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "TOPIC" : "StatGraphTopic008",
   "SKIN" : "natedit,pattern",
   "PUBURLPATH" : "/foswiki/pub",
   "SERVERTIME" : "16 Feb 2023 - 10:32",
   "COOKIEREALM" : "",
   "USERSWEB" : "Main",
   "WIKIUSERNAME" : "Main.AdminUser",
   "SCRIPTURLPATHS" : {},
   "PUBURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/pub",
   "URLHOST" : "http://biostat1478.dhcp.mc.vanderbilt.edu",
   "SYSTEMWEB" : "System",
   "SCRIPTSUFFIX" : "",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "WEB" : "CTSpedia",
   "SCRIPTURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/bin",
   "USERNAME" : "admin",
   "WIKINAME" : "AdminUser",
   "SCRIPTURLPATH" : "/foswiki/bin"
}
</script><!--JQUERYPLUGIN::FOSWIKI::PREFERENCES-->

</head> 
<body class="foswikiNoJs  foswikiHasChangePermission foswikiLoggedIn"><div class="foswikiPage">
<span id="PageTop"></span> <div class="foswikiMain"><h1></h1><a href="StatGraphHome.html">Return to Statistical Graphics Home</a>
<p></p>
<h2 id="Please_rate_the_graphic:">  Please rate the graphic: </h2>
<p></p> <ul>
<li> 5 stars = highest rating
</li> <li> 1 star = lowest rating
</li> <li> SCORE = average of all votes
</li></ul> 
<p></p>
%VOTE{id="Evalgraph" stars1="Graph Rating" global="off" open="off" secret="off" format="| $key | $small<br /><small>Score: $score, My vote: $mylast, Total votes: $sum</small> |" }%
<p></p>
<strong>Please add comments and then click on the "Add comment" button.</strong>
<p></p>
<p></p>
<p></p>
<p></p>
%COMMENT%
<p></p>
<span id="TopicEnd"></span>
<div class="foswikiForm foswikiFormStep"><h3> <a href="OriginalStatGraphicsForm.html">OriginalStatGraphicsForm</a> <span class='foswikiSmall'><a href="StatGraphTopic008.html">edit</a></span></h3><table class='foswikiFormTable' border='1' summary='Form data'><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Image</strong> </td><td> %LIGHTBOX{ image="plottable.jpg"  thumbnail="tn_plottable.jpg" caption="Efficacy by Subgroup"}%  Click on image to enlarge. </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Title</strong> </td><td> Efficacy by Subgroup </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Graph_Subgroup</strong> </td><td> General Principles </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Code Added</strong> </td><td> Yes </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Description</strong> </td><td> For each study (conditioned variable) depicts unadjusted 95% confidence intervals of each treatment group by race. In addition the tabular information is presented in the bottom portions of each panel. </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Contributor/Email</strong> </td><td> Mat Soukup (email: <a href="mailto&#58;Mat&#46;Soukup&#64;fda&#46;hhs&#46;gov">Mat.Soukup&#64;fda.hhs.gov</a>)  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Background</strong> </td><td> Endpoint is binary and the data set is from a randomly generated data set located on the OB network drive.  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Special Considerations</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Date</strong> </td><td> Original </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Original Date</strong> </td><td> 2007 </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Modified Date</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Use/Suitability</strong> </td><td> Exploration </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Software Program</strong> </td><td> R </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Software</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>R-Code - Attachment</strong> </td><td> R-script: <a href="StatGraphTopic008.attachments/plottable.txt">Efficacy by Subgroup - Attached</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>R-Code</strong> </td><td> dat <- read.csv('//cdsnas/oebdbdms/Graphics/Datasets/CleanTrial.csv')&lt;br />base <- subset(dat, visit==2)&lt;br />eot <- subset(dat, visit==6)&lt;br />    eot$binep <- ifelse(base$catvar-eot$catvar >= 2, 1, 0)<br />    # Suppose this actually is from two studies<br />    eot$study <- rep(c('Study 1','Study 2', 'Study 1', 'Study 2'),&lt;br />                     c(450,300,450,300))<br />                        <br />ss <- with(eot, summarize(100*binep, llist(racef, study, trtf), &lt;br />                              smean.cl.normal))<br /><br />    ss$xaxis <- rep(1:4, each=4)+rep(c(-.1,.1), 8)&lt;br />    names(ss)[4] <- 'binep'&lt;br /><br /># Calculate counts and sample sizes for the table<br />a1 <- with(eot[eot$study%in%'Study 1',], ftable(trtf, racef, binep))&lt;br />    xs1 <- a1[,2]&lt;br />    n1 <- a1[,1]+a1[,2]&lt;br /><br />a2 <- with(eot[eot$study%in%'Study 2',], ftable(trtf, racef, binep))&lt;br />    xs2 <- a2[,2]&lt;br />    n2 <- a2[,1]+a2[,2]&lt;br /><br />xpos <- c(.85,1.85,2.85,3.85,1.15,2.15,3.15,4.15)&lt;br />cols <- rep(c('black','seagreen2'),each=4)&lt;br /><br />#png('C:/Research/Graphics/Graphs4Display/webpages/classes/pages/images/plottable.png',<br />#         width=700, height=700)<br /><br />new.line <- trellis.par.get('superpose.line')&lt;br />new.line$col <- c('black','seagreen2')&lt;br />new.line$lty <- c(1,1,1,1)&lt;br />new.symbol <- trellis.par.get('superpose.symbol')&lt;br />new.symbol$col <- c('black', 'seagreen2')&lt;br />new.symbol$pch <- c(1, 4, 16, 8)&lt;br />trellis.par.set('superpose.line', new.line)<br />trellis.par.set('superpose.symbol', new.symbol)<br />        <br />xYplot(Cbind(binep,Lower,Upper)~xaxis&#124;study, groups=trtf, data=ss,<br />       xlab='Race',<br />       ylab='Percent Responders',<br />       ylim=c(ss$Lower-15,ss$Upper+1),<br />       aspect=1,<br />       scales=list(x=list(at=1:4, labels=(unique(ss$racef))),<br />                   y=list(at=seq(20,60,10), labels=as.character(seq(20,60,10)))),<br />       key=list(type='p',<br />          points=list(pch=trellis.par.get('superpose.symbol')$pch[1:2],<br />                      col=trellis.par.get('superpose.symbol')$col[1:2]),<br />          text=list(levels(base$trtf),<br />                      col=trellis.par.get('superpose.symbol')$col[1:2]),<br />          columns=2, cex=1.25, title='Treatment'))<br /> <br /># Overall means of the study<br />    oo <- with(eot, summarize(100*binep, llist(study,trtf), mean))&lt;br /><br />trellis.focus('panel',1,1, highlight=FALSE)<br />panel.abline(h=oo[1:2,3], col=trellis.par.get('superpose.symbol')$col[1:2], lty=c(2,2))<br />for(i in 1:8){<br />    ltext(x=xpos[i], y=8, labels=bquote(frac(.(xs1[i]),.(n1[i]))),<br />           cex=.95, col=cols[i])<br />}<br />panel.abline(h=14, col='grey60')<br />trellis.unfocus()<br />             <br />trellis.focus('panel',2,1, highlight=FALSE)<br />panel.abline(h=oo[3:4,3], col=trellis.par.get('superpose.symbol')$col[1:2], lty=c(2,2))<br />for(i in 1:8){<br />    ltext(x=xpos[i], y=8, labels=bquote(frac(.(xs2[i]),.(n2[i]))),<br />        cex=.95, col=cols[i])<br />}             <br />panel.abline(h=14, col='grey60')<br />trellis.unfocus()<br /><br />t1 <- with(eot[eot$study%in%'Study 1',], table(trtf))&lt;br />t2 <- with(eot[eot$study%in%'Study 2',], table(trtf))&lt;br /><br />trellis.focus('strip', 1, 1, highlight=FALSE)<br />ltext(x=0.025, y=.5, paste('N=', t1[1], sep=''), <br />      col=c('black'), adj=c(0,NA), cex=.9)<br />ltext(x=0.975, y=.5, paste('N=', t1[2], sep=''), <br />      col=c('seagreen2'), adj=c(1,NA), cex=.9)<br />trellis.unfocus()<br />trellis.focus('strip', 2, 1, highlight=FALSE)<br />ltext(x=0.025, y=.5, paste('N=', t2[1], sep=''), <br />      col=c('black'), adj=c(0,NA), cex=.9)<br />ltext(x=0.975, y=.5, paste('N=', t2[2], sep=''), <br />      col=c('seagreen2'), adj=c(1,NA), cex=.9)<br />trellis.unfocus()<br />#dev.off()<br /> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>SAS-Code - Attachment</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>SAS-Code</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Stata-Code - Attachment</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Stata-Code</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Other Code - Attachment</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Other Code</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Keywords</strong> </td><td> subgroup analysis, conditioned variable, confidence intervals, treatment groups </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>OPTIONAL FIELDS</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>References</strong> </td><td> This graphic relies extensively on the use of the trellis.focus function which allows one to zoom into parts of the trellis graphic and add annotations.  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Datasets</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Data</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Attached Data</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>CATEGORIZATIONS</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Classification-Evaluation</strong> </td><td> Efficacy </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Classification-Graph Type</strong> </td><td> <a href="StatGraphClassTopic002.html">Scatterplot</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Graph_Type</strong> </td><td> <a href="ScatterplotExamples.html">Scatterplot</a> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Variable Relationship</strong> </td><td> Continuous versus Categorical </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Data Types</strong> </td><td> Categorical and Continuous </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Special Cases</strong> </td><td>  </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Disclaimer</strong> </td><td> The views expressed within CTSpedia are those of the author and must not be taken to represent policy or guidance on the behalf of any organization or institution with which the author is affiliated. </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Permission</strong> </td><td> Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: </br> <br>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</br> <br>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF ERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT  OLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </br> </td></tr><tr style='vertical-align:top'><td class='foswikiFormTableRow foswikiFirstCol' style='text-align:right'> <strong>Reference Image</strong> </td><td> <img src="https://www.ctspedia.org/wiki/pub/CTSpedia/StatGraphTopic008/plottable_referemce_200.jpg" alt="plottable_referemce_200.jpg"> </td></tr></table></div>
This topic: CTSpedia<span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span><a href="WebHome.html" class="foswikiCurrentWebHomeLink">WebHome</a> &gt; <a href="StatGraphHome.html">StatGraphHome</a> &gt; <a href="ContributeGraphics.html">ContributeGraphics</a><span class='foswikiSeparator'>&nbsp;&gt;&nbsp;</span>StatGraphTopic008 <br />
Topic revision:  <span class='patternRevInfo'>30 Mar 2012, MaryBanach</span>
<hr />
<span id="PageBottom"></span>
<div class="foswikiCopyright"><span class="foswikiRight"> <a href="https://foswiki.org/"><img alt="This site is powered by Foswiki" title="This site is powered by Foswiki" src="../System/ProjectLogos.attachments/foswiki-badge.png"></a></span>Copyright &copy; by the contributing authors. All material on this collaboration platform is the property of the contributing authors. <br /> Ideas, requests, problems regarding Foswiki? <a href="mailto:?subject=Foswiki%20Feedback%20on%20CTSpedia.StatGraphTopic008">Send feedback</a></div></div></div>

</body></html>