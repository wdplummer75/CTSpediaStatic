<!DOCTYPE html><html lang="en">
<head>
<title>VarADDTOZONE &lt; System &lt; Foswiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link type="image/x-icon" href="../MISSING RESOURCE System/VarADDTOZONE/favicon.ico" rel="icon"> <link rel="shortcut icon" href="../MISSING RESOURCE System/VarADDTOZONE/favicon.ico" type="image/x-icon">
<link type="application/x-wiki" title="edit VarADDTOZONE" rel="alternate" href="VarADDTOZONE.html">
<meta name="description" content="VarADDTOZONE" />
<link type="text/css" href="SmiliesPlugin.attachments/smilies.css" rel="stylesheet" media="all" class="head SMILIESPLUGIN"><!--SMILIESPLUGIN-->
<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style><!--TABLEPLUGIN_default-->
<script src="JQueryPlugin.attachments/jquery-2.2.4.js" class="script JQUERYPLUGIN"></script><!--JQUERYPLUGIN-->
<script class="script JQUERYPLUGIN::OBSERVER" src="JQueryPlugin.attachments/plugins/observer/observer.js?version=0.1"></script><!--JQUERYPLUGIN::OBSERVER-->
<script src="JQueryPlugin.attachments/plugins/migrate/jquery.migrate.js?version=3.3.1" class="script JQUERYPLUGIN::MIGRATE"></script><!--JQUERYPLUGIN::MIGRATE-->
<script class="script JQUERYPLUGIN::FOSWIKI" src="JQueryPlugin.attachments/plugins/foswiki/jquery.foswiki.js?version=3.01"></script><!--JQUERYPLUGIN::FOSWIKI-->
<script class="script JQUERYPLUGIN::BROWSER" src="JQueryPlugin.attachments/plugins/browser/jquery.browser.js?version=0.1.0"></script><!--JQUERYPLUGIN::BROWSER-->
<script src="JQueryPlugin.attachments/plugins/metadata/jquery.metadata.js?version=2.1ef2bb44c86f5d0e98d55" class="script JQUERYPLUGIN::METADATA"></script><!--JQUERYPLUGIN::METADATA-->
<script class="script JQUERYPLUGIN::CHILI" src="JQueryPlugin.attachments/plugins/chili/jquery.chili.js?version=2.2_1"></script>
<script class="script JQUERYPLUGIN::CHILI" src="JQueryPlugin.attachments/plugins/chili/jquery.chili.init.js?version=2.2_1"></script><!--JQUERYPLUGIN::CHILI-->
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "SCRIPTURLPATHS" : {},
   "WEB" : "System",
   "USERNAME" : "WikiAdmin",
   "PUBURLPATH" : "/foswiki/pub",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "USERSWEB" : "Main",
   "WIKIUSERNAME" : "Main.WikiAdmin",
   "SERVERTIME" : "08 Feb 2023 - 15:51",
   "TOPIC" : "VarADDTOZONE",
   "WIKINAME" : "WikiAdmin",
   "SCRIPTSUFFIX" : "",
   "SCRIPTURLPATH" : "/foswiki/bin",
   "SKIN" : "natedit,pattern",
   "URLHOST" : "http://biostat1478.dhcp.mc.vanderbilt.edu",
   "SYSTEMWEB" : "System",
   "SCRIPTURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/bin",
   "COOKIEREALM" : "",
   "PUBURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/pub"
}
</script><!--JQUERYPLUGIN::FOSWIKI::PREFERENCES-->
</head>
<body>
<h1 id="ADDTOZONE_45_45_add_content_to_a_named_zone_on_the_page">  ADDTOZONE -- add content to a named zone on the page </h1>
<p></p>
<h2 id="Parameters">  Parameters </h2>
          <table class="foswikiTable" rules="none">   
	<thead>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<th class="foswikiTableCol0 foswikiFirstCol"> <a title="Sort by this column" href="../PublishPlugin/publish.html" rel="nofollow">Parameter</a> </th>
			<th class="foswikiTableCol1"> <a href="../PublishPlugin/publish.html" rel="nofollow" title="Sort by this column">Description</a> </th>
			<th class="foswikiTableCol2 foswikiLastCol"> <a rel="nofollow" href="../PublishPlugin/publish.html" title="Sort by this column">Default</a> </th>
		</tr>
	</thead>   
	<tbody>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>"zone"</code> </td>
			<td class="foswikiTableCol1"> comma-separated list of the names of zones that the content should be added to. The only zones guaranteed to exist are <code>head</code>, <code>script</code> and <code>body</code>. </td>
			<td class="foswikiTableCol2 foswikiLastCol"> <code>head</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>id</code> </td>
			<td class="foswikiTableCol1"> <code>identifier</code> for the text being added with the <code>ADDTOZONE</code> call, to be used in the <code>requires</code> parameter of other <code>ADDTOZONE</code> calls. <img title="HELP" width="16" src="DocumentGraphics.attachments/help.png" height="16" alt="HELP"> Multiple <code>ADDTOZONE</code> calls with the same <code>id</code> parameter will simply overwrite the earlier <code>ADDTOZONE</code> call. </td>
			<td class="foswikiTableCol2 foswikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>requires</code> </td>
			<td class="foswikiTableCol1"> comma separated string of <code>ids</code> of text within this <code>zone</code> that this content should follow when the zone is rendered.  The content will be rendered even if a specified <code>id</code> is missing. </td>
			<td class="foswikiTableCol2 foswikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>text</code> </td>
			<td class="foswikiTableCol1"> text to be added to the named zone, mutually exclusive with <code>topic</code>. </td>
			<td class="foswikiTableCol2 foswikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>topic</code> </td>
			<td class="foswikiTableCol1"> full qualified <code>web.topic</code> name that contains the text to be added, mutually exclusive with <code>text</code>. </td>
			<td class="foswikiTableCol2 foswikiLastCol"> <code>%BASETOPIC%</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> <code>section</code> </td>
			<td class="foswikiTableCol1 foswikiLast"> section of the <code>topic</code> to be added </td>
			<td class="foswikiTableCol2 foswikiLastCol foswikiLast"> the default section between <a href="VarSTARTINCLUDE.html">STARTINCLUDE</a> and <a href="VarSTOPINCLUDE.html">STOPINCLUDE</a> </td>
		</tr>
	</tbody>   </table>
<p></p>
<h2 id="What_is_a_34Zone_34_63">  What is a "Zone"? </h2>
<em>Zones</em> are specific places in the output HTML that are marked by calls to the
<a href="VarRENDERZONE.html">RENDERZONE</a> macro. Zones are used to collect various content
together, such as Javascript and CSS, that must be included in the output HTML
in a specific order, and in a specific place.
<p></p>
There are three special zones called <code>head</code>, <code>script</code> and <code>body</code>. The <code>head</code> zone is rendered
as part of the HTML head section. It is the catch-all container for any content supposed
to be placed into the HTML head section, except Javascript, which is collected in the
<code>script</code> zone. 
<p></p>
All Javascript <em>must</em> always be added to the <code>script</code> zone exclusively, in order to
grant ordering constraints among scripts are resolved properly. Never add Javascript to
the <code>head</code> zone -- never add non-Javascript content to the <code>script</code> zone.
<p></p>
Both <code>head</code> and <code>script</code> zones are added to the HTML head section automatically just before the
closing &lt;/head&gt; tag as if they were specified explicitly in the skin templates using:
<pre class="tml">
&#60;head&#62;
...
&#37;RENDERZONE{&#34;head&#34;}&#37;
&#37;RENDERZONE{&#34;script&#34;}&#37;
&#60;/head&#62;
</pre>
<p></p>
The <code>body</code> zone is added to the end of the rendered page just prior to the
closing <code>&lt;body&gt;</code> tag.  
<p></p>
<div class="foswikiHelp">The <code>body</code> zone is new with Foswiki 2.1.5.  It was
added for improved compatibility with the <a href="NatSkin.html" rel="nofollow" class="foswikiNewLink" title="Create this topic">NatSkin</a>. </div>
<p></p>
You may create as many zones in addition to the standard <code>head</code> and <code>script</code>
zones as you like.  For any non-standard zone specified in
<a href="VarADDTOZONE.html" class="foswikiCurrentTopicLink">ADDTOZONE</a> you will also need to provide an appropriate
<a href="VarRENDERZONE.html">RENDERZONE</a>. 
<p></p>
Interesting use cases in wiki applications: <ul>
<li> Create a <code>sidebar</code> zone to add widgets,
</li> <li> Create a <code>toolbar</code> zone to add buttons icons
</li> <li> Create a <code>menu</code> zone to add menu entries
</li></ul> 
<p></p>
<h3 id="Adding_content_to_a_zone">  Adding content to a zone </h3>
<a class="foswikiCurrentTopicLink" href="VarADDTOZONE.html">ADDTOZONE</a> adds content to a zone identified with the <code>id</code> parameter.
An <code>id</code> identifier is unique within the zone that they are added to. 
When the same <code>id</code> is used in multiple calls to <a href="VarADDTOZONE.html" class="foswikiCurrentTopicLink">ADDTOZONE</a> the 
last call will win, that is previous content of the same <code>id</code> will be overwritten.
<p></p>
<h3 id="Enforcing_a_linear_order_of_content_within_a_zone">  Enforcing a linear order of content within a zone </h3>
An <a href="VarADDTOZONE.html" class="foswikiCurrentTopicLink">ADDTOZONE</a> call may ensure that its content appears <em>after</em> the
content of some other <a href="VarADDTOZONE.html" class="foswikiCurrentTopicLink">ADDTOZONE</a> calls by specifying their <code>ids</code> in
the <code>requires</code> parameter. The <code>requires</code> parameter constraints the linear order
of content added to a zone. When a zone is rendered, all ordering constraints
expressed via <code>requires</code> are satisfied.  Those <code>ids</code> not found in a zone don't
have any influence on the final ordering. Missing <code>ids</code> aren't considered an error
rather than an over-specified ordering problem.
<p></p>
<h3 id="Working_with_61_123MergeHeadAndScriptZones_125_61_disabled_40default_41">  Working with <code>{MergeHeadAndScriptZones}</code> disabled (default) </h3>
In this mode, the <code>head</code> and <code>script</code> zones are treated separately.
<p></p>
Even when <code>head</code> and <code>script</code> zones are treated separately, the <code>head</code> zone will
always be rendered before the <code>script</code> zone, unless otherwise specified using <a href="VarRENDERZONE.html">RENDERZONE</a> explicitly.
So any content in the <code>script</code> zone that depends on content placed into
the <code>head</code> zone is satisfied intrinsicly as they are both rendered as specified above.
<p></p>
<h3 id="Working_with_61_123MergeHeadAndScriptZones_125_61_enabled">  Working with <code>{MergeHeadAndScriptZones}</code> enabled </h3>
In this mode, the <code>head</code> and <code>script</code> zones are separate when adding to them,
but may be treated as merged when you call <a href="VarRENDERZONE.html">RENDERZONE</a> if
there are any dependencies specified that only exist in the opposite zone. This
allows an <code>ADDTOZONE{"head"...}</code> to to successfully require an <code>id</code> that has
been added to <code>script</code>.
<p></p>
<div class="foswikiHelp">
  <img title="ALERT!" width="16" src="DocumentGraphics.attachments/warning.png" alt="ALERT!" height="16"> <code>{MergeHeadAndScriptZones}</code> is provided to
  maintain compatibility with legacy extensions that use
  <a href="VarADDTOHEAD.html">ADDTOHEAD</a> to add <code>&lt;script&gt;</code> markup and require content
  that is now in the <code>script</code> zone. <code>{MergeHeadAndScriptZones}</code> will be removed
  from a future version of Foswiki.
</div>
<p></p>
<h2 id="Examples">  Examples </h2>
<h3 id="Adding_to_a_zone_with_missing_dependencies">  Adding to a zone with missing dependencies </h3>
You must ensure that no <code>head</code> content (and no inline Javascript) depends on
<code>script</code> content.  Any such dependency will be <em>ignored</em>. 
<p></p>
In real world application this isn't a problem as Javascript is never added
to the <code>head</code> zone or Javascript zone part of the <code>script</code> zone never really
depends on non-Javascript content part of the <code>head</code> zone.
<p></p>
HTML comment decoration which normally appears after each id's
content in the rendered HTML will contain a small informative text to aid
debugging.
<p></p>
<strong>Example</strong> 
<pre class="tml">
&#37;ADDTOZONE{
  &#34;script&#34;
  text&#61;&#34;
  &#60;script type&#61;&#39;text/javascript&#39;&#62;
    alert(&#39;test&#39;);
  &#60;/script&#62;&#34;
  requires&#61;&#34;some-id-that-exists-in-script&#34;
  id&#61;&#34;MY::TEST&#34;
}&#37;
</pre>
<p></p>
<strong>Result</strong>
<pre class="html">
&#60;script type&#61;&#39;text/javascript&#39;&#62;
  alert(&#39;test&#39;);
&#60;/script&#62;
&#60;!-- MY::TEST: requires&#61; missing ids: some-id-that-exists-in-script --&#62;
</pre>
<p></p>
<h3 id="Adding_Javascript_to_a_page">  Adding Javascript to a page </h3>
Make sure that all inline Javascript code in the topic (if it is allowed)
is added to the page using <code>%ADDTOZONE{"script"...requires="library-id"}%</code>
with the appropriate library-id to guarantee a correct load order. For example, jQuery code should be added as follows:
<p></p>
<pre class="tml">
&#37;JQREQUIRE{&#34;shake&#34;}&#37;
&#37;ADDTOZONE{
   &#34;script&#34;
   id&#61;&#34;MyApp::ShakePart&#34;
   text&#61;&#34;
   &#60;script type&#61;&#39;text/javascript&#39;&#62;
      jQuery(&#39;#something&#39;).shake(3, 10, 180);
   &#60;/script&#62;&#34;
   requires&#61;&#34;JQUERYPLUGIN::SHAKE&#34;
}&#37;
</pre> 
<p></p>
where "MyApp::ShakePart" is a unique <code>id</code> to identify the text added to
<code>script</code>; and <code>JQUERYPLUGIN::SHAKE</code> signifies that the content added with that
identifier should appear beforehand.
<p></p>
<h3 id="Adding_CSS_to_a_page">  Adding CSS to a page </h3>
<pre class="tml">
&#37;ADDTOZONE{&#34;head&#34;
   id&#61;&#34;MyCSS&#34;
   text&#61;&#34;
      &#60;style type&#61;&#39;text/css&#39; media&#61;&#39;all&#39;&#62;
         &#64;import url(&#39;&#37;PUBURLPATH&#37;/&#37;SYSTEMWEB&#37;/MyCSS/foo.css&#39;);
      &#60;/style&#62;&#34;
}&#37;
</pre>
<p></p>
<p></p>
<h2 id="Related">  Related </h2>
<a href="VarRENDERZONE.html">RENDERZONE</a>,
<a title="'Development.UsingADDTOZONE' on foswiki.org" class="interwikiLink" href="https://foswiki.org/Development.UsingADDTOZONE"><noautolink>Using ADDTOZONE</noautolink></a>,
<a class="interwikiLink" href="https://foswiki.org/Development.UpdatingExtensionsScriptZone" title="'Development.UpdatingExtensionsScriptZone' on foswiki.org"><noautolink>Updating applications to use <code>script</code> zone</noautolink></a>
<!--  -->
<hr />
<p></p>
<hr />
<p></p>
</body>