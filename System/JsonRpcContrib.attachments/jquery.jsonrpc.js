"use strict";!function(e){foswiki.jsonRpc=function(n){return e.jsonRpc(foswiki.getScriptUrl("jsonrpc"),n)},e.jsonRpc=function(n,o){var s=function(e){var n={jsonrpc:"2.0",method:e.method};return void 0!==e.params&&(n.params=e.params),void 0!==e.id&&(n.id=e.id),n}(o),r=n,c=!0;return void 0!==o.namespace&&(r+="/"+o.namespace),void 0!==o.async&&(c=o.async),e.ajax({type:"POST",dataType:"json",url:r,data:JSON.stringify(s),contentType:"application/json",processData:!1,cache:!1,async:c,beforeSend:function(e){"function"==typeof o.beforeSend&&o.beforeSend.call(o,e)},error:function(n,s,r){var c;"function"==typeof o.error&&(c=404==n.status?{jsonrpc:"2.0",error:{code:n.status,message:s}}:e.parseJSON(n.responseText),o.error.call(o,c,s,n))},success:function(e,n,s){"function"==typeof o.success&&o.success.call(o,e,n,s)}})}}(jQuery);
