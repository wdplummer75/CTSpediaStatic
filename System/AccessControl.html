<!DOCTYPE html><html lang="en">
<head>
<title>AccessControl &lt; System &lt; Foswiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link type="image/x-icon" rel="icon" href="../MISSING RESOURCE System/AccessControl/favicon.ico"> <link type="image/x-icon" rel="shortcut icon" href="../MISSING RESOURCE System/AccessControl/favicon.ico">
<link type="application/x-wiki" rel="alternate" href="AccessControl.html" title="edit AccessControl">
<meta name="description" content="AccessControl" />
<link type="text/css" media="all" class="head JQUERYPLUGIN::TWISTY" rel="stylesheet" href="TwistyPlugin.attachments/twisty.css?version=1.6.0"><!--JQUERYPLUGIN::TWISTY: requires= missing ids: JavascriptFiles/foswikiPref-->
<link type="text/css" media="all" rel="stylesheet" class="head SMILIESPLUGIN" href="SmiliesPlugin.attachments/smilies.css"><!--SMILIESPLUGIN-->
<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style><!--TABLEPLUGIN_default-->
<script class="script JQUERYPLUGIN" src="JQueryPlugin.attachments/jquery-2.2.4.js"></script><!--JQUERYPLUGIN-->
<script class="script JQUERYPLUGIN::OBSERVER" src="JQueryPlugin.attachments/plugins/observer/observer.js?version=0.1"></script><!--JQUERYPLUGIN::OBSERVER-->
<script class="script JQUERYPLUGIN::MIGRATE" src="JQueryPlugin.attachments/plugins/migrate/jquery.migrate.js?version=3.3.1"></script><!--JQUERYPLUGIN::MIGRATE-->
<script src="JQueryPlugin.attachments/plugins/foswiki/jquery.foswiki.js?version=3.01" class="script JQUERYPLUGIN::FOSWIKI"></script><!--JQUERYPLUGIN::FOSWIKI-->
<script src="JQueryPlugin.attachments/plugins/browser/jquery.browser.js?version=0.1.0" class="script JQUERYPLUGIN::BROWSER"></script><!--JQUERYPLUGIN::BROWSER-->
<script src="JQueryPlugin.attachments/plugins/metadata/jquery.metadata.js?version=2.1ef2bb44c86f5d0e98d55" class="script JQUERYPLUGIN::METADATA"></script><!--JQUERYPLUGIN::METADATA-->
<script src="JQueryPlugin.attachments/plugins/chili/jquery.chili.js?version=2.2_1" class="script JQUERYPLUGIN::CHILI"></script>
<script src="JQueryPlugin.attachments/plugins/chili/jquery.chili.init.js?version=2.2_1" class="script JQUERYPLUGIN::CHILI"></script><!--JQUERYPLUGIN::CHILI-->
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "PUBURLPATH" : "/foswiki/pub",
   "USERNAME" : "WikiAdmin",
   "WEB" : "System",
   "SCRIPTURLPATHS" : {},
   "TOPIC" : "AccessControl",
   "SERVERTIME" : "08 Feb 2023 - 15:51",
   "WIKIUSERNAME" : "Main.WikiAdmin",
   "USERSWEB" : "Main",
   "SKIN" : "natedit,pattern",
   "SCRIPTURLPATH" : "/foswiki/bin",
   "SCRIPTSUFFIX" : "",
   "WIKINAME" : "WikiAdmin",
   "PUBURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/pub",
   "COOKIEREALM" : "",
   "SCRIPTURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/bin",
   "SYSTEMWEB" : "System",
   "URLHOST" : "http://biostat1478.dhcp.mc.vanderbilt.edu"
}
</script><!--JQUERYPLUGIN::FOSWIKI::PREFERENCES-->
<script class="script JQUERYPLUGIN::TWISTY" src="TwistyPlugin.attachments/jquery.twisty.js?version=1.6.0"></script><!--JQUERYPLUGIN::TWISTY: requires= missing ids: JavascriptFiles/foswikiPref-->
</head>
<body>
<p></p>
<h1 id="Access_Control">  Access Control </h1>
<p></p>
Restricting read and write access to topics and webs, by users and groups
<p></p>
Access Control allows you restrict access to single topics and entire webs, by individual user and by user Groups. Access control, combined with <a href="UserAuthentication.html">UserAuthentication</a>, lets you easily create and manage an extremely flexible, fine-grained privilege system.
<p></p>
Please note <a href="FileAttachment.html">FileAttachments</a> are not protected by Foswiki Access Control in a default configuration (though this can be enabled).
<p></p>
<div class="foswikiToc" id="foswikiTOC"><span class="foswikiTocTitle">On this page:</span> <ul>
<li> <a href="#An_important_consideration"> An important consideration </a>
</li> <li> <a href="#Permissions_settings_of_the_webs_on_this_Foswiki_site"> Permissions settings of the webs on this Foswiki site </a>
</li> <li> <a href="#Authentication_vs._Access_Control"> Authentication vs. Access Control </a>
</li> <li> <a href="#Users_and_groups"> Users and groups </a> <ul>
<li> <a href="#Managing_Users"> Managing Users </a>
</li> <li> <a href="#Managing_Groups"> Managing Groups </a>
</li> <li> <a href="#The_Super_Admin_Group"> The Super Admin Group </a>
</li></ul> 
</li> <li> <a href="#Restricting_Access"> Restricting Access </a> <ul>
<li> <a href="#Controlling_access_to_a_Web"> Controlling access to a Web </a>
</li> <li> <a href="#Controlling_access_to_a_topic"> Controlling access to a topic </a> <ul>
<li> <a href="#Access_rules_in_Foswki_version_1.x"> Access rules in Foswki version 1.x </a>
</li> <li> <a href="#Wildcard_matching"> Wildcard matching </a>
</li></ul> 
</li> <li> <a href="#Controlling_access_to_attachments"> Controlling access to attachments </a>
</li> <li> <a href="#Controlling_who_can_manage_top_45level_webs"> Controlling who can manage top-level webs </a>
</li> <li> <a href="#How_Foswiki_evaluates_ALLOW_47DENY_settings"> How Foswiki evaluates ALLOW/DENY settings </a>
</li></ul> 
</li> <li> <a href="#Access_control_and_INCLUDE"> Access control and INCLUDE </a>
</li> <li> <a href="#Access_control_quick_recipes"> Access control quick recipes </a> <ul>
<li> <a href="#Obfuscating_webs"> Obfuscating webs </a>
</li> <li> <a href="#Restrict_Access_to_a_whole_Foswiki_site"> Restrict Access to a whole Foswiki site </a> <ul>
<li> <a href="#When_using_Apache_Login"> When using Apache Login </a>
</li> <li> <a href="#When_using_Template_Login"> When using Template Login </a>
</li></ul> 
</li> <li> <a href="#Authenticate_all_webs_and_restrict_selected_webs"> Authenticate all webs and restrict selected webs </a>
</li> <li> <a href="#Authenticate_and_restrict_selected_webs_only"> Authenticate and restrict selected webs only </a>
</li> <li> <a href="#Authenticate_and_restrict_most_webs_44_Allow_access_to_selected_topics"> Authenticate and restrict most webs, Allow access to selected topics </a>
</li> <li> <a href="#Control_access_to_topic_History_and_Raw_text."> Control access to topic History and Raw text. </a>
</li> <li> <a href="#Show_control_settings"> Show control settings </a>
</li> <li> <a href="#Hide_control_settings"> Hide control settings </a>
</li> <li> <a href="#Controlling_access_to_the_System_web."> Controlling access to the System web. </a>
</li></ul> 
</li></ul> 
</div>
<p></p>
<span id="ImportantConsideration"></span>
<h2 id="An_important_consideration">  An important consideration </h2>
<p></p>
Open, freeform editing is the essence of <a href="WikiCulture.html">WikiCulture</a> - what makes Foswiki different and often more effective than other collaboration tools. For that reason, it is strongly recommended that the decision to restrict read or write access to a web or a topic is made with great care - the more restrictions, the less Wiki in the mix. Experience shows that <em>unrestricted write access</em> works very well because: <ul>
<li> <strong>Peer influence</strong> is enough to ensure that only relevant content is posted.
</li> <li> <strong>Peer editing</strong> - the ability for anyone to rearrange all content on a page - keeps topics focused.
</li> <li> In Foswiki, content is transparently preserved under <strong>revision control</strong>: <ul>
<li> Edits can be undone by the administrator (per default a member of <a href="../Main/AdminGroup.html">AdminGroup</a>; see <a class="foswikiCurrentTopicLink" href="#ManagingGroups">#ManagingGroups</a>).
</li> <li> Users are encouraged to edit and refactor (condense a long topic), since there's a safety net.
</li></ul> 
</li></ul> 
As a <strong>collaboration guideline</strong>, create broad-based Groups (for more and varied input), and avoid creating view-only Users (if you can read it, you should be able to contribute to it).
<p></p>
<h2 id="Permissions_settings_of_the_webs_on_this_Foswiki_site">  Permissions settings of the webs on this Foswiki site </h2>
<p></p>
The topic <a href="SitePermissions.html">SitePermissions</a> gives you an overview of the access control settings for all your webs.
<p></p>
<h2 id="Authentication_vs._Access_Control">  Authentication vs. Access Control </h2>
<p></p>
<strong>Authentication:</strong> Identifies who a user is based on a login procedure. See <a href="UserAuthentication.html">UserAuthentication</a>.
<p></p>
<strong>Access control:</strong> Restrict access to content based on users and groups once a user is identified. (Also referred to as Authorization)
<p></p>
<h2 id="Users_and_groups">  Users and groups </h2>
<p></p>
Access control is based on the familiar concept of users and groups. Users
are defined by their <a href="WikiName.html">WikiNames</a>. They can then be organized in unlimited
combinations by inclusion in one or more user Groups. Groups can also be
included in other Groups.
<p></p>
<h3 id="Managing_Users">  Managing Users </h3>
<p></p>
In standard Foswiki a user can create an account in <a href="UserRegistration.html">UserRegistration</a>. The following actions are performed: (See <a href="ManagingUsers.html">ManagingUsers</a> for more details). <ul>
<li> <a href="WikiName.html">WikiName</a>, encrypted password and email address are recorded using the password manager if authentication is enabled.
</li> <li> A confirmation e-mail is sent to the user.
</li> <li> A user home page with the <a href="WikiName.html">WikiName</a> of the user is created in the Main web.
</li> <li> The user is added to the <a href="../Main/WikiUsers.html">WikiUsers</a> topic.
</li> <li> Optionally the user is added to one or more groups.
</li></ul> 
<p></p>
The default visitor name is <a href="../Main/WikiGuest.html">WikiGuest</a>. This is the non-authenticated user.  By default the non-authenticated user is not permitted to edit topics.  If you require anonymous editing, see "Controlling access to individual scripts" in <a href="UserAuthentication.html">UserAuthentication</a>.
<p></p>
<div class='foswikiHelp'><img width="16" title="ALERT!" alt="ALERT!" height="16" src="DocumentGraphics.attachments/warning.png"> Your local Foswiki may have an alternate user mapping manager installed which doesn't support user registration. Check with your Wiki administrator if you are in doubt.</div>
<p></p>
<span id="ManagingGroups"></span>
<h3 id="Managing_Groups">  Managing Groups </h3>
<p></p>
The following describes the standard Foswiki support for groups. Your local Foswiki may have an alternate group mapping manager installed. Check with your Wiki administrator if you are in doubt.
<p></p>
Groups are defined by group topics located in the <code><b>Main</b></code> web. To create a new group, visit  <a href="../Main/WikiGroups.html">WikiGroups</a>. You will find a "Create a new group" link at the top which reveals a form to create a new group. Enter the name of the new group ending in <code><b>Group</b></code> into the "Group Name" form field and the initial members in the "Members" field. This creates a new group topic. (The default User Mapper shipped with Foswiki requires that groups end with the word <strong>Group</strong>. If your site uses an alternate mapper, it might not have that requirement.)
<p></p>
By default any member of a group has access rights to both adding and removing users from the group through the nice user interface. If you need to limit this access further, change the ALLOWTOPICCHANGE setting through "More Topic Action" -&gt; "Edit topic preference settings".
<p></p>
The <code>ALLOWTOPICCHANGE</code> setting defines who is allowed to change the group topic; it is a comma delimited list of users and groups. You typically want to restrict that to the members of the group itself, so it should contain the name of the topic. This prevents users not in the group from editing the topic to give themselves or others access. For example, for the KasabianGroup topic write: <ul>
<li> <code><b>Set ALLOWTOPICCHANGE = Main.KasabianGroup</b></code> <ul>
<li> <strong>Caution</strong> This is set in the "Topic Settings" and not inline in the topic text!
</li></ul> 
</li></ul> 
<p></p>
<img title="TIP" width="16" src="DocumentGraphics.attachments/tip.png" alt="TIP" height="16"> If you want to hide a group and its list of members, you can set <code>ALLOWTOPICVIEW</code> on the group. For example: <ul>
<li> <code><b>Set ALLOWTOPICVIEW = Main.SecretGroup</b></code> <ul>
<li> This group will be usable in the ACL of any topic, but is only visible to members of the group.
</li> <li> <strong>Caution</strong> As with the the prior example, this is set in the "Topic Settings" and not inline in the topic text!
</li></ul> 
</li></ul> 
<p></p>
<div class='foswikiHelp'>
<img src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!" title="ALERT!" width="16"> Foswiki has strict formatting rules. Settings <strong>must</strong> be entered as a bullet point. <ul>
<li> With the TML editor, or in the Settings editor, make sure you have three spaces, an asterisk, and an extra space in front of any access control rule.
</li> <li> When using the <a href="WYSIWYG.html">WYSIWYG</a> editor, create a bullet using the bullet button on the toolbar.
</li></ul> 
<p></p>
Background: A group topic is an empty topic with 3 hidden preference settings. <ul>
<li> GROUP: Comma separated list of users and/or groups
</li> <li> ALLOWTOPICCHANGE: Comma separated list of users and groups that are allowed to add and remove users from the group
</li> <li> VIEW_TEMPLATE: Always set to the value <code>GroupView</code>. This alters the way the topic is presented to include a nice user interface for adding and removing users.
</li></ul> 
<p></p>
Foswiki 1.1 introduced the smart user interface for adding and removing members of a group. Group topics from prior versions of Foswiki will still work. These have the GROUP setting visible in the topic text itself and you edit it by editing the topic. Foswiki 1.1 <a href="../Main/WikiGroups.html">WikiGroups</a> will show these old group topics with an "Upgrade Group Topic button". The administrator can upgrade an old group topic to the nice new user interface with one easy click.
</div>
<p></p>
<span id="SuperAdminGroup"></span>
<h3 id="The_Super_Admin_Group">  The Super Admin Group </h3>
<p></p>
A number of Foswiki functions (for example, renaming webs) are only available to administrators. Administrators are simply users who belong to the <strong>SuperAdminGroup</strong>. This is a standard user group, the name of which is defined by <code>{SuperAdminGroup}</code> setting in <a href="../.html">configure</a>. The default name of this group is the <code>AdminGroup</code>. The system administrator may have chosen a different name for this group if your local Foswiki uses an alternate group mapping manager, but for simplicity we will use the default name AdminGroup in the rest of this topic.
<p></p>
You can create new administrators simply by adding them to the <a href="../Main/AdminGroup.html">AdminGroup</a> topic. using the <a href="../Main/WikiGroups.html">WikiGroups</a> API For example,
<p></p>
A member of the Super Admin Group has <strong>unrestricted access</strong> throughout the wiki, so only trusted staff should be added to this group.
<p></p>
<div class='foswikiHelp'>
<img width="16" title="TIP" alt="TIP" height="16" src="DocumentGraphics.attachments/tip.png"> Hint: Instead of adding users to the AdminGroup, consider adding them to the <code>ALLOWTOPICCHANGE</code> setting for the AdminGroup.  Those users will then be able to add and remove themselves from the AdminGroup when they need admin rights, rather than running as admin all the time.
</div>
<p></p>
<h2 id="Restricting_Access">  Restricting Access </h2>
<p></p>
Access to webs and topics is controlled by:
<p></p> <ul>
<li> The <code>{AuthScripts}</code> setting in <a href="../.html">configure</a> -&gt; Security and Authentication -&gt; Login; 
</li> <li> The <code>{FeatureAccess}</code> settings in <a href="../.html">configure</a> -&gt; Security and Authentication -&gt; Access Control; and
</li> <li> setting the values of certain <a href="PreferenceSettings.html">preferences</a>.
</li></ul> 
<p></p>
These preferences have the general form:
<p></p>
<em>permission</em> <em>context</em> <em>mode</em>
<p></p>
Where <em>permission</em> is <code>ALLOW</code> or <code>DENY</code>, <em>context</em> is <code>TOPIC</code>, <code>WEB</code>, or <code>ROOT</code>, and <em>mode</em> is <code>VIEW</code>, <code>CHANGE</code>, or <code>RENAME</code>. For example, the preference <code>ALLOWWEBCHANGE</code> lists who is allowed to change
topics in the current web.  (Some extensions add additional modes.  Ex. ALLOWTOPICCOMMENT.)
<p></p> <ul>
<li> Restricting VIEW blocks viewing and searching of content. When you restrict VIEW to a topic or web, this also restricts <a href="VarINCLUDE.html">INCLUDE</a> and <a href="FormattedSearch.html">Formatted SEARCH</a> from showing the content of the topics.
</li> <li> Restricting CHANGE blocks creating new topics, changing topics or attaching files.
</li> <li> Restricting RENAME prevents renaming of topics within a web.
</li></ul> 
And, when enabled by <code>{FeatureAccess}</code> settings: <ul>
<li> Restricting HISTORY blocks access to older revisions of topics by the <code>rev=</code> URL parameter.
</li> <li> Restricting RAW blocks access to the <code>raw=</code> topic text.
</li></ul> 
<p></p>
<div class='foswikiHelp'><img src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!" title="ALERT!" width="16"> <strong>There is an important distinction between CHANGE access and RENAME access.</strong> A user can CHANGE a topic, but thanks to version control their changes cannot be lost (the history of the topic before the change is recorded). However if a topic or web is renamed, that history may be lost. Typically a site will only give RENAME access to administrators and content owners.
<p></p> <ul>
<li> <img width="16" title="ALERT!" height="16" alt="ALERT!" src="DocumentGraphics.attachments/warning.png"> Note that ALLOWWEBxxx and DENYWEBxxx preferences can only be set in <a href="WebPreferences.html">WebPreferences</a> topics. You cannot define a site level access. Each web must be protected on their own. Subwebs inherit access settings from the parent web. See next section.
</li> <li> <img width="16" title="ALERT!" height="16" alt="ALERT!" src="DocumentGraphics.attachments/warning.png"> Note that ALLOWTOPICxxx and DENYTOPICxxx preferences apply only to the topic itself.
</li> <li> <img title="ALERT!" width="16" src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!"> Be warned that some plugins may not respect access permissions.
</li></ul> 
<p></p>
<img title="IDEA!" width="16" src="DocumentGraphics.attachments/tip.png" height="16" alt="IDEA!"> <a href="Macros.html">FINALPREFERENCES</a> affects access controls, allowing you to prevent changes to access control settings while still allowing edit access to topics.
</div>
<p></p>
<h3 id="Controlling_access_to_a_Web">  Controlling access to a Web </h3>
<p></p>
You can define restrictions on who is allowed to view a Foswiki web. You can restrict access to certain webs to selected users and groups, by:
<p></p> <ul>
<li> <strong>authenticating all webs and restricting selected webs:</strong> Topic access in all webs is authenticated, and selected webs have restricted access.
</li> <li> <strong>authenticating and restricting selected webs only:</strong> Provide unrestricted viewing access to open webs, with authentication and restriction only on selected webs.
</li></ul> 
<p></p> <ul>
<li> You can define these settings in the <a href="WebPreferences.html">WebPreferences</a> topic, preferable towards the end of the topic: <ul>
<li> <code><b>Set DENYWEBVIEW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWWEBVIEW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYWEBCHANGE = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWWEBCHANGE = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYWEBRENAME = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWWEBRENAME = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li> <li> If <code>{FeatureAccess}{AllowRaw}</code> is set to <code><b>acl</b></code> in configure, then the following rules are also active: <ul>
<li> <code><b>Set ALLOWWEBRAW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYWEBRAW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li> <li> If <code>{FeatureAccess}{AllowHistory}</code> is set to <code><b>acl</b></code> in configure, then the following rules are also active: <ul>
<li> <code><b>Set ALLOWWEBHISTORY = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYWEBHISTORY = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li></ul> 
<p></p>
You can also use the asterisk (*) in any of the above settings if you want it to match all possible users.
<p></p>
If your site allows sub-webs, then access to sub-webs is determined from the access controls of the parent web, plus the access controls in the sub-web. So, if the parent web has <code><b>ALLOWWEBVIEW</b></code> set, this will also apply to the subweb. Also note that you will need to ensure that the parent web's <code><b>FINALPREFERENCES</b></code> does not include the access control settings listed above. Otherwise you will not be able override the parent web's access control settings in sub-webs.
<p></p>
Creation and renaming of sub-webs is controlled by the WEBCHANGE setting on the parent web (or ROOTCHANGE for <a href="#RootWebs" class="foswikiCurrentTopicLink">root webs</a>). Renaming is additionally restricted by the setting of WEBRENAME in the web itself.
<p></p>
<h3 id="Controlling_access_to_a_topic">  Controlling access to a topic </h3> <ul>
<li> You can define these settings in any topic, preferable towards the end of the topic: <ul>
<li> <code><b>Set DENYTOPICVIEW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWTOPICVIEW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYTOPICCHANGE = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWTOPICCHANGE = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYTOPICRENAME = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWTOPICRENAME = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li> <li> If <code>{FeatureAccess}{AllowRaw}</code> is set to <code><b>acl</b></code> in configure, then the following rules are also active: <ul>
<li> <code><b>Set ALLOWTOPICRAW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYTOPICRAW = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li> <li> If <code>{FeatureAccess}{AllowHistory}</code> is set to <code><b>acl</b></code> in configure, then the following rules are also active: <ul>
<li> <code><b>Set ALLOWTOPICHISTORY = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set DENYTOPICHISTORY = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li></ul> 
<p></p>
You can also use an asterisk (*) in any of these settings to match all possible users.
<div class='foswikiHelp'><img width="16" title="ALERT!" alt="ALERT!" height="16" src="DocumentGraphics.attachments/warning.png"> <strong>Caution!</strong> Settings are always taken from the latest (current) revision of a topic. If older revisions of a topic had more restrictive access controls, they will not be used when accessing the older revision. If the topic was restricted because it contained sensitive information, and that information was removed, it still exists in the topic history. Once you remove the access restrictions, the topic history will be viewable.</div>
<p></p>
Remember when opening up access to specific topics within a restricted web that other topics in the web - for example, the WebLeftBar - may also need to be accessed when viewing the topics. The message you get when you are denied access should tell you what topic you were not permitted to access.
<p></p>
<h4 id="Access_rules_in_Foswki_version_1.x">  Access rules in Foswki version 1.x </h4>
If your administrator has enabled <code>{AccessControlACL}{EnableDeprecatedEmptyDeny}</code> in the Foswiki configuration then the old behaviour will still work and  an empty DENY setting means <em>do not deny anyone the right to access</em>, in other words <strong><em>allow all access</em></strong>.
<p></p>
Click this link to see more documentation on the prior behaviour.  <div class="twistyPlugin foswikiMakeVisible"><span id="twistyIdSystemAccessControl1952show" style="display:none" class="twistyTrigger foswikiUnvisited twistyInited"><a href=".." class=""><span class="foswikiLinkLabel foswikiUnvisited">Show Foswiki 1.x ACL documentation</span></a></span><span id="twistyIdSystemAccessControl1952hide" style="display:none" class="twistyTrigger foswikiUnvisited twistyInited"><a href=".." class=""><span class="foswikiLinkLabel foswikiUnvisited">Close</span></a></span></div><div class="twistyPlugin"><div id="twistyIdSystemAccessControl1952toggle" style="" class="twistyContent twistyInited">
<div class='foswikiHelp'>
<img src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!" title="ALERT!" width="16"> If your site started out life using an earlier version of Foswiki, you might have seen that from Foswiki 2.0 onwards, <strong>the empty DENY has been removed</strong>. This rule has been replaced by <code>*</code> wildcards in the ALLOW and DENY rules.
<p></p>
The previous documentation said: <ul>
<li> <code><b>Set ALLOWTOPICVIEW = </b></code> <br />This means the same as not setting it at all.
</li> <li> <code><b>Set DENYTOPICVIEW = </b></code> <br />This means the same as not setting it at all.
</li></ul> 
As of Foswiki 2.0, the empty DENY setting is now meaningless, <em>unless explicitly overridden by your installation</em>.
<p></p>
<table class="foswikiTable" rules="none">
	<tbody>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> &nbsp; </td>
			<th class="foswikiTableCol1"> Before Foswiki 2.0 </th>
			<th class="foswikiTableCol2 foswikiLastCol"> Foswiki 2.0 and newer </th>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> Allow ALL users </td>
			<td class="foswikiTableCol1"> Set DENY to an empty string </td>
			<td class="foswikiTableCol2 foswikiLastCol"> Set ALLOW to * </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Allow All logged-in users </td>
			<td class="foswikiTableCol1"> <p>Set DENY to <a href="../Main/WikiGuest.html">WikiGuest</a></p> <p>Leave ALLOW un-set</p> </td>
			<td class="foswikiTableCol2 foswikiLastCol"> &lt;no change from before&gt; </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> Deny all access </td>
			<td class="foswikiTableCol1"> Set ALLOW to <a href="../Main/NobodyGroup.html">NobodyGroup</a> </td>
			<td class="foswikiTableCol2 foswikiLastCol"> <p>Set ALLOW to <a href="../Main/NobodyGroup.html">NobodyGroup</a> </p> <p>-or- Set DENY to *</p> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Allow selected users </td>
			<td class="foswikiTableCol1"> Set ALLOW to desired users/groups </td>
			<td class="foswikiTableCol2 foswikiLastCol"> Set ALLOW to desired users/groups </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> Deny selected users </td>
			<td class="foswikiTableCol1 foswikiLast"> Set DENY to desired users/groups </td>
			<td class="foswikiTableCol2 foswikiLastCol foswikiLast"> Set DENY to desired users/groups </td>
		</tr>
	</tbody></table>
<p></p>
If DENYTOPICVIEW is set to an empty value anyone has access even if ALLOWTOPICVIEW or ALLOWWEBVIEW is defined. This allows you to have very restrictive default access rights to an entire web and still allow individual topics to have more open access.
</div>
</div></div>
<h4 id="Wildcard_matching">  Wildcard matching </h4>
<p></p>
When <code>*</code> is set in a rule, it says that any user identity will match that rule.  Setting <code>ALLOW</code> to <code>*</code> says "Allow ALL", setting * to DENY says "Deny ALL".
<p></p>
For example if you want completely open access to a topic <strong><em>for logged in users</em></strong> then use the following rules: <ul>
<li> <code><b>Set ALLOWTOPICVIEW = *</b></code> <br />This allows everyone.
</li> <li> <code><b>Set DENYTOPICVIEW = <a href="../Main/WikiGuest.html">WikiGuest</a></b></code> <br /></b>This overrides the ALLOW, and denies the guest user.
</li></ul> 
<p></p>
<div class='foswikiHelp'><img alt="ALERT!" height="16" src="DocumentGraphics.attachments/warning.png" width="16" title="ALERT!"> Note that it is not possible to override a DENY with an ALLOW at the same level ALLOW on a topic can override DENY at the web level, but not at the TOPIC level
<p></p>
<img title="ALERT!" width="16" src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!"> If the same setting is defined multiple times the last one overrides the previous. They are not OR'ed together.
<p></p>
<img src="DocumentGraphics.attachments/warning.png" alt="ALERT!" height="16" title="ALERT!" width="16"> <em>Setting to an empty value has caused confusion and has been removed. Please read the release notes carefully when you upgrade.</em>
</div>
<p></p>
See "How Foswiki evaluates ALLOW/DENY settings" below for more on how ALLOW and DENY interacts.
<p></p>
<h3 id="Controlling_access_to_attachments">  Controlling access to attachments </h3>
<p></p>
Attachments are referred to directly, and are not normally indirected via Foswiki scripts. This means that the above instructions for access control will <em>not</em> apply to attachments. It is possible that someone may inadvertently publicise a URL that they expected to be access-controlled.
<p></p>
The easiest way to apply the same access control rules for attachments as apply to topics is to use the Apache <code>mod_rewrite</code> module, and configure your webserver to redirect accesses to attachments to the Foswiki <code>viewfile</code> script. For example,
<p></p>
<pre>
    ScriptAlias /foswiki/bin/ /filesystem/path/to/bin/
    Alias /foswiki/pub/       /filesystem/path/to/pub/

    RewriteEngine on
    RewriteCond &#37;{REQUEST&#95;URI} !^/+foswiki/+pub/+System/+.+
    RewriteRule ^/+foswiki/+pub/+(&#91;^/&#93;+)((/+(&#91;^/&#93;+))+)/+(.+) /foswiki/bin/viewfile/&#36;1/&#36;2?filename&#61;&#36;5 &#91;L,PT&#93;</pre>
<p></p>
That way all the controls that apply to the topic also apply to attachments to the topic. Other types of web servers have similar support.
<p></p>
<div class='foswikiHelp'><img title="ALERT!" width="16" src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!"> Images embedded in topics will load much slower since each image will be delivered by the <code>viewfile</code> script. The <a href="https://foswiki.org/Support.ApacheConfigGenerator" class="interwikiLink" title="'Support.ApacheConfigGenerator' on foswiki.org"><noautolink>Foswiki:Support.ApacheConfigGenerator</noautolink></a> has some more extensive examples of protecting user attachments, but allowing direct access to trivial graphics attached to System topics.</div>
<p></p>
<span id="RootWebs"></span>
<h3 id="Controlling_who_can_manage_top_45level_webs">  Controlling who can manage top-level webs </h3>
<p></p>
Top level webs are a special case, because they don't have a parent web with a <a href="WebPreferences.html">WebPreferences</a>. So there has to be a special control just for the root level. <ul>
<li> You can define these settings in the <a href="../Main/SitePreferences.html">SitePreferences</a> topic, preferably towards the end of the topic: <ul>
<li> <code><b>Set DENYROOTCHANGE = &lt; comma-delimited list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWROOTCHANGE = &lt; comma-delimited list of users and groups &gt;</b></code>
</li></ul> 
</li></ul> 
Note that you do <strong>not</strong> require <code>ROOTCHANGE</code> access to rename an existing top-level web. You just need <code>WEBCHANGE</code> in the web itself.
<p></p>
<h3 id="How_Foswiki_evaluates_ALLOW_47DENY_settings">  How Foswiki evaluates ALLOW/DENY settings </h3>
<p></p>
<div class='foswikiHelp'><img title="ALERT!" width="16" src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!"> Settings are only read from the most current (latest) revision of a topic. Settings from older revisions are never used, even when viewing an older revision with the <code>rdiff</code> script</div>
<p></p>
When deciding whether to grant access, Foswiki evaluates the following rules <strong>in order</strong> (read from the top of the list; if the logic arrives at <strong>PERMITTED</strong> or <strong>DENIED</strong> that applies immediately and no more rules are applied). You need to read the rules bearing in mind that VIEW, CHANGE and RENAME access may be granted/denied separately.
<p></p> <ol>
<li> If the user is an <a href="#SuperAdminGroup" class="foswikiCurrentTopicLink">administrator</a> <ul>
<li> access is <strong>PERMITTED</strong>.
</li></ul> 
</li> <li> If DENYTOPIC is set to a list of WikiNames, or set to the * wildcard <ul>
<li> people in the list will be <strong>DENIED</strong>.
</li></ul> 
</li> <li> If ALLOWTOPIC is set to a list of WikiNames, or set to the * wildcard <ol>
<li> people in the list are <strong>PERMITTED</strong>
</li> <li> everyone else is <strong>DENIED</strong> (nobody is denied if ALLOW is set to *)
</li></ol> 
</li> <li> If DENYWEB is set to a list of WikiNames, or set to the * wildcard<br /> <ul>
<li> people in the list are <strong>DENIED</strong> access (everyone if DENY is set to *)
</li></ul> 
</li> <li> If ALLOWWEB is set to a list of WikiNames, or set to the * wildcard <ul>
<li> people in the list will be <strong>PERMITTED</strong>
</li> <li> everyone else will be <strong>DENIED</strong> (nobody is denied if ALLOW is set to *)
</li></ul> 
</li> <li> If you got this far, access is <strong>PERMITTED</strong>
</li></ol> 
<p></p>
<h2 id="Access_control_and_INCLUDE">  Access control and INCLUDE </h2>
<p></p>
ALLOWTOPICVIEW and ALLOWTOPICCHANGE only applies to the topic in which the settings are defined. If a topic A includes another topic B, topic A does not inherit the access rights of the included topic B.
<p></p>
Examples: Topic A includes topic B
<p></p> <ul>
<li> If the included topic B has ALLOWTOPICCHANGE set to block editing for a user, it does not prevent editing the including topic A.
</li> <li> If the included topic B has ALLOWTOPICVIEW set to block view for a user, the user can still view topic A but he cannot see the included topic B. He will see a message <em>No permission to view B</em>
</li></ul> 
<p></p>
<h2 id="Access_control_quick_recipes">  Access control quick recipes </h2>
<p></p>
<h3 id="Obfuscating_webs">  Obfuscating webs </h3>
<p></p>
Another way of hiding webs is by setting the <code><b>NOSEARCHALL</b></code> setting in <a href="WebPreferences.html">WebPreferences</a>.  It does the following: <ul>
<li> Prevents the <code><b>all webs</b></code> search option from accessing the web
</li> <li> Hides the web from the %WEBLIST% macro.
</li></ul> 
<pre>
   &#42; Set NOSEARCHALL &#61; on</pre>
<p></p>
This setup can be useful to hide a new web until content its ready for deployment, or reduce clutter in the WebLeftBar and default search results when restricted access is not desired.
<p></p>
<div class='foswikiHelp'><img src="DocumentGraphics.attachments/tip.png" height="16" alt="TIP" title="TIP" width="16"> Setting <code><b>NOSEARCHALL</b></code> to <strong><em>any</em></strong> value other than the empty string will hide a web. Setting <code><b>NOSEARCHALL = off</b></code> will have the same effect as setting it to <code><b>on</b></code> </div>
<p></p>
<div class='foswikiHelp'><img title="ALERT!" width="16" src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!"> Obfuscating a web without setting view access control is <strong>very</strong> insecure, as anyone who knows the URL can access the web, and explicit searches naming that web will also work. For security purposes it is better to use the ALLOW or DENY VIEW settings in the <a href="WebPreferences.html">WebPreferences</a> topic. <code>%SEARCH%</code> and <code>%WEBLIST%</code> will not show any results for webs that the current user does not have permission to view.</div>
<p></p>
<h3 id="Restrict_Access_to_a_whole_Foswiki_site">  Restrict Access to a whole Foswiki site </h3>
<p></p>
For a firewalled Foswiki, e.g. an intranet wiki or extranet wiki, you want to allow only invited people to access your Foswiki.
<div class='foswikiHelp'><img height="16" alt="HELP" src="DocumentGraphics.attachments/help.png" width="16" title="HELP"> With this configuration, someone with access to the site needs to register new users. <a href="ResetPassword.html">ResetPassword</a> will also have to be done by administrators.</div>
<p></p>
<h4 id="When_using_Apache_Login">  When using Apache Login </h4>
<p></p>
<a href="UserAuthentication.html">User authentication with ApacheLogin</a> is enabled on your site.  To reqire login for <strong>all</strong> scripts: <ul>
<li> lock down access to the whole <code>bin</code> and <code>pub</code> directories to all but valid users. In the Apache <code>.htaccess</code> file or the appropriate <code>.conf</code> file, replace the <code>&lt;FilesMatch "(attach|edit|...</code> section with this:
</li></ul> 
<pre>
&#60;FilesMatch &#34;.&#42;&#34;&#62;
       require valid-user
&#60;/FilesMatch&#62;</pre>
<p></p>
If needed, you can further restrict access to selected webs with ALLOWWEBVIEW and other access control settings.
<p></p>
<h4 id="When_using_Template_Login">  When using Template Login </h4>
<p></p>
<a href="UserAuthentication.html">User authentication with TemplateLogin</a> is enabled on your site.   To require login for <strong>all</strong> scripts: <ul>
<li> Add all scripts in the <code>foswiki/bin</code> directory (except for <code>login</code>, <code>logon</code>) to the list of <code>{AuthScripts}</code> in <a href="../.html">configure</a>, <code>Security And Authentication</code> tab, <code>Login</code> sub-tab, For a default Foswiki installation:
</li></ul> 
<p></p> <ul>
<li> Default (open) site:
</li></ul> 
<pre>
{AuthScripts} &#61; &#39;attach,compareauth,configure,edit,manage,previewauth,rdiffauth,rename,restauth,save,statistics,upload,viewauth,viewfileauth&#39;;</pre> <ul>
<li> Restricted (closed) site:
</li></ul> 
<pre>
{AuthScripts} &#61; &#39;attach,changes,compare,compareauth,configure,edit,jsonrpc,manage,oops,preview,previewauth,rdiff,rdiffauth,register,rename,resetpasswd,rest,restauth,save,search,statistics,upload,view,viewauth,viewfile,viewfileauth</pre>
<p></p>
<div class='foswikiHelp'><img src="DocumentGraphics.attachments/warning.png" height="16" alt="ALERT!" title="ALERT!" width="16"> If you install extensions that add scripts, you must also remember to add the new scripts to this list or the new scripts will not be protected.</div>
<p></p>
<h3 id="Authenticate_all_webs_and_restrict_selected_webs">  Authenticate all webs and restrict selected webs </h3>
<p></p>
Use the following setup to authenticate users for topic viewing in all webs and to restrict access to selected webs. Requires <a href="UserAuthentication.html">UserAuthentication</a> to be enabled.
<p></p> <ol>
<li> The simple way is to add this to <code>WebPreferences</code> in all webs. <ul>
<li> <code><b>Set DENYWEBVIEW = WikiGuest</b></code>
</li></ul> 
</li> <li> <strong>Restrict</strong> view access to selected users and groups. Set one or both of these settings in its <a href="WebPreferences.html">WebPreferences</a> topic: <ul>
<li> <code><b>Set ALLOWWEBVIEW = &lt; list of users and groups &gt;</b></code>
</li> <li> <strong>Note:</strong> <code>DENYWEBVIEW</code> is evaluated before <code>ALLOWWEBVIEW</code>. Access is denied if the authenticated person is in the <code>DENYWEBVIEW</code> list, or not in the <code>ALLOWWEBVIEW</code> list. Access is granted if <code>DENYWEBVIEW</code> and <code>ALLOWWEBVIEW</code> are not defined.
</li></ul> 
</li></ol> 
<p></p>
In rare cases it may be required to authenticate the view script. This can in some cases have a dramatic performance hit because the webserver must re-authenticate for every page view.
<p></p> <ol>
<li> Set <code>require valid-user</code> on your <code>view</code> script in .htaccess or the appropriate Apache .conf file. This looks like: <code>FilesMatch "(attach|edit|manage|rename|save|view|upload|mail|logon|.*auth).*"</code> (normally <code>view</code> is not in that list).
</li></ol> 
<p></p>
<h3 id="Authenticate_and_restrict_selected_webs_only">  Authenticate and restrict selected webs only </h3>
<p></p>
Use the following setup to provide unrestricted viewing access to open webs, with authentication only on selected webs. Requires <a href="UserAuthentication.html">UserAuthentication</a> to be enabled.
<p></p> <ol>
<li> <strong>Restrict</strong> view access to selected users and groups. Set one or both of these settings in its <a href="WebPreferences.html">WebPreferences</a> topic: <ul>
<li> <code><b>Set DENYWEBVIEW = &lt; list of users and groups &gt;</b></code>
</li> <li> <code><b>Set ALLOWWEBVIEW = &lt; list of users and groups &gt;</b></code>
</li> <li> <strong>Note:</strong> <code>DENYWEBVIEW</code> is evaluated before <code>ALLOWWEBVIEW</code>. Access is denied if the authenticated person is in the <code>DENYWEBVIEW</code> list, or not in the <code>ALLOWWEBVIEW</code> list. Access is granted if <code>DENYWEBVIEW</code> and <code>ALLOWWEBVIEW</code> are not defined.
</li></ul> 
</li></ol> 
<h3 id="Authenticate_and_restrict_most_webs_44_Allow_access_to_selected_topics">  Authenticate and restrict most webs, Allow access to selected topics </h3>
<p></p>
Use the following setup is used to "lock down" the Wiki to logged in users, while still allowing <a href="UserRegistration.html">UserRegistration</a>, <a href="ResetPassword.html">ResetPassword</a>, etc. to remain operational. Requires <a href="UserAuthentication.html">UserAuthentication</a> to be enabled.
<p></p> <ol>
<li> <strong>Restrict</strong> view access by the guest user, and then selectively unlock topics required for normal operation<br /> <ul>
<li> <b>Set &lt;nop&gt;DENYWEBVIEW = WikiGuest </b>Set this in each <a href="WebPreferences.html">WebPreferences</a> topic:
</li> <li> <strong>Set &lt;nop&gt;ALLOWTOPICVIEW = *</strong> Set this in each topic that needs to be unlocked for unauthenticated users.
</li> <li> <strong>Note:</strong> ALLOWTOPICVIEW is evaluated before DENYWEBVIEW. Access is permitted if the authenticated person (or wildcard) is in the ALLOWTOPICVIEW list. The list of topics that need to be unlocked in the System web for login, password reset, registration, and guest access when the System has been locked down is rather extensive.
</li></ul> 
</li></ol> 
<p></p>
<h3 id="Control_access_to_topic_History_and_Raw_text.">  Control access to topic History and Raw text. </h3>
<p></p>
Foswiki 2.0 now restricts the guest user from access to topic history and raw topic text.  This is configurable.  See:
<a href="../.html">configure</a> <code>Security and Authentication &gt; Access Control &gt; {FeatureAccess}{AllowRaw}</code>  and <code>{FeatureAccess}{AllowHistory}</code>  (They are expert level settings, so the "Show expert options" button in the lower left corner must be pressed.)
<p></p>
Each of these setting has 3 choices: <ul>
<li> <code>authenticated</code> - This is the default.  Anyone who is logged in has access
</li> <li> <code>acl</code> - The feature can be controlled per web or topic using ALLOW or DENY ACLs.
</li> <li> <code>all</code> - Open access like on Foswiki 1.x
</li></ul> 
<p></p>
When set to <code>acl</code>, then standard DENY and ALLOW processing is performed, RAW
and HISTORY are added to the VIEW, CHANGE and RENAME access already described here.
<p></p>
If you want to use ACL level controls, but also want <a title="Create this topic" rel="nofollow" class="foswikiNewLink" href="WikiGuest.html">WikiGuest</a> blocked by default, you need to edit every <a href="WebPreferences.html">WebPreferences</a> topic and set the following: <ul>
<li> <code><b>Set DENYWEBRAW = <a href="../Main/WikiGuest.html">WikiGuest</a></b></code>
</li> <li> <code><b>Set DENYWEBHISTORY = <a href="../Main/WikiGuest.html">WikiGuest</a></b></code>
</li></ul> 
<p></p>
Note that these ACL controls block access to the <code>raw=</code> and <code>rev=</code> url parameters. They are not enforced internaly in the "Store". Wiki applications still can access prior revisions, and anyone with CHANGE authority can edit the raw topic text.
<p></p>
<h3 id="Show_control_settings">  Show control settings </h3>
<p></p>
You can list the access controls affecting a topic using the <a href="VarSHOWPREFERENCE.html">%SHOWPREFERENCE{</a> macro in the topic, thus:
<pre class='tml'>
&#37;SHOWPREFERENCE{&#34;DENYWEBVIEW,ALLOWWEBVIEW,DENYWEBCHANGE,ALLOWWEBCHANGE,DENYWEBRENAME,ALLOWWEBRENAME&#34;}&#37;</pre>
<p></p>
For this topic, this displays: <ul>
<li> Set DENYWEBVIEW = ""
</li> <li> Set ALLOWWEBVIEW = ""
</li> <li> Set DENYWEBCHANGE = "&#37;USERSWEB&#37;.WikiGuest" <ul>
<li> DENYWEBCHANGE was defined in Main.WebPreferences
</li></ul> 
</li> <li> Set ALLOWWEBCHANGE = "&#37;USERSWEB&#37;.AdminGroup" <ul>
<li> ALLOWWEBCHANGE was defined in System.WebPreferences
</li></ul> 
</li> <li> Set DENYWEBRENAME = "&#37;USERSWEB&#37;.WikiGuest" <ul>
<li> DENYWEBRENAME was defined in Main.WebPreferences
</li></ul> 
</li> <li> Set ALLOWWEBRENAME = "&#37;USERSWEB&#37;.AdminGroup" <ul>
<li> ALLOWWEBRENAME was defined in System.WebPreferences
</li></ul> 
</li></ul> 
<p></p>
<p></p>
<h3 id="Hide_control_settings">  Hide control settings </h3>
<p></p>
To hide access control settings from normal browser viewing, you can put them into the <em>topic <a href="PreferenceSettings.html">preference settings</a></em> by clicking the link <code>Edit topic preference settings</code> under <code>More topic actions</code> menu. Preferences set in this manner are not visible in the topic text, but take effect nevertheless. Access control settings added as topic preference settings are stored in the topic meta data and they override settings defined in the topic text.
<p></p>
Alternatively, place them in HTML comment markers, but this exposes the access setting during ordinary editing.
<p></p>
<pre class='tml'>&lt;!-- <br />
 * Set DENYTOPICCHANGE = Main.SomeGroup <br />
--&gt;
</pre>
<p></p>
<h3 id="Controlling_access_to_the_System_web.">  Controlling access to the System web. </h3>
<p></p>
Some search engines penalize sites for publishing "duplicate information".  The Wiki documentation in the System web falls into that category. Foswiki now
has "ALLOWTOPICVIEW = *" settings on critical System topics that require guest access, such as <a href="ResetPassword.html">ResetPassword</a>, <a href="UserRegistration.html">UserRegistration</a>, and other template topics.
You should be able to restrict guest access to the System and retain good operation for guests. 
<p></p>
<p></p>
<p></p>
<hr />
<p></p>
<strong>Related Topics:</strong> <a href="AdminDocumentationCategory.html">AdminDocumentationCategory</a>, <a href="UserAuthentication.html">UserAuthentication</a>
<!--  -->
<hr />
<p></p>
<hr />
<p></p>
</body>