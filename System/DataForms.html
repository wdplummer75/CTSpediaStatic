<!DOCTYPE html><html lang="en">
<head>
<title>DataForms &lt; System &lt; Foswiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link type="image/x-icon" rel="icon" href="../MISSING RESOURCE System/DataForms/favicon.ico"> <link href="../MISSING RESOURCE System/DataForms/favicon.ico" rel="shortcut icon" type="image/x-icon">
<link title="edit DataForms" rel="alternate" href="DataForms.html" type="application/x-wiki">
<meta name="description" content="DataForms" />
<link type="text/css" media="all" rel="stylesheet" class="head JQUERYPLUGIN::FARBTASTIC" href="JQueryPlugin.attachments/plugins/farbtastic/jquery.farbtastic.css?version=1.2"><!--JQUERYPLUGIN::FARBTASTIC-->
<link type="text/css" media="all" class="head JQUERYPLUGIN::THEME" rel="stylesheet" href="JQueryPlugin.attachments/plugins/ui/themes/foswiki/jquery-ui.css"><!--JQUERYPLUGIN::THEME-->
<link type="text/css" href="SmiliesPlugin.attachments/smilies.css" class="head SMILIESPLUGIN" media="all" rel="stylesheet"><!--SMILIESPLUGIN-->
<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style><!--TABLEPLUGIN_default-->
<style class='head TABLEPLUGIN_specific' type="text/css" media="all">
body .foswikiTable#tableDataForms1 td.foswikiTableCol0 {width:20%}
body .foswikiTable#tableDataForms1 td.foswikiTableCol1 {width:80%}
body .foswikiTable#tableDataForms1 th.foswikiTableCol0 {width:20%}
body .foswikiTable#tableDataForms1 th.foswikiTableCol1 {width:80%}
body .foswikiTable#tableDataForms1 tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable#tableDataForms1 tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#ffffff}
body .foswikiTable#tableDataForms2 td.foswikiTableCol0 {width:12%}
body .foswikiTable#tableDataForms2 td.foswikiTableCol1 {width:22%}
body .foswikiTable#tableDataForms2 td.foswikiTableCol2 {width:22%}
body .foswikiTable#tableDataForms2 td.foswikiTableCol3 {width:22%}
body .foswikiTable#tableDataForms2 td.foswikiTableCol4 {width:22%}
body .foswikiTable#tableDataForms2 th.foswikiTableCol0 {width:12%}
body .foswikiTable#tableDataForms2 th.foswikiTableCol1 {width:22%}
body .foswikiTable#tableDataForms2 th.foswikiTableCol2 {width:22%}
body .foswikiTable#tableDataForms2 th.foswikiTableCol3 {width:22%}
body .foswikiTable#tableDataForms2 th.foswikiTableCol4 {width:22%}
body .foswikiTable#tableDataForms3 td.foswikiTableCol0 {width:20%}
body .foswikiTable#tableDataForms3 td.foswikiTableCol1 {width:80%}
body .foswikiTable#tableDataForms3 th.foswikiTableCol0 {width:20%}
body .foswikiTable#tableDataForms3 th.foswikiTableCol1 {width:80%}
body .foswikiTable#tableDataForms3 tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable#tableDataForms3 tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#ffffff}
</style><!--TABLEPLUGIN_specific-->
<script src="JQueryPlugin.attachments/jquery-2.2.4.js" class="script JQUERYPLUGIN"></script><!--JQUERYPLUGIN-->
<script src="JQueryPlugin.attachments/plugins/observer/observer.js?version=0.1" class="script JQUERYPLUGIN::OBSERVER"></script><!--JQUERYPLUGIN::OBSERVER-->
<script class="script JQUERYPLUGIN::MIGRATE" src="JQueryPlugin.attachments/plugins/migrate/jquery.migrate.js?version=3.3.1"></script><!--JQUERYPLUGIN::MIGRATE-->
<script class="script JQUERYPLUGIN::FOSWIKI" src="JQueryPlugin.attachments/plugins/foswiki/jquery.foswiki.js?version=3.01"></script><!--JQUERYPLUGIN::FOSWIKI-->
<script src="JQueryPlugin.attachments/plugins/browser/jquery.browser.js?version=0.1.0" class="script JQUERYPLUGIN::BROWSER"></script><!--JQUERYPLUGIN::BROWSER-->
<script src="JQueryPlugin.attachments/plugins/metadata/jquery.metadata.js?version=2.1ef2bb44c86f5d0e98d55" class="script JQUERYPLUGIN::METADATA"></script><!--JQUERYPLUGIN::METADATA-->
<script class="script JQUERYPLUGIN::CHILI" src="JQueryPlugin.attachments/plugins/chili/jquery.chili.js?version=2.2_1"></script>
<script class="script JQUERYPLUGIN::CHILI" src="JQueryPlugin.attachments/plugins/chili/jquery.chili.init.js?version=2.2_1"></script><!--JQUERYPLUGIN::CHILI-->
<script src="JQueryPlugin.attachments/plugins/easing/jquery.easing.js?version=1.3" class="script JQUERYPLUGIN::EASING"></script><!--JQUERYPLUGIN::EASING-->
<script src="JQueryPlugin.attachments/plugins/ui/jquery-ui.js?version=1.13.1" class="script JQUERYPLUGIN::UI"></script><!--JQUERYPLUGIN::UI-->
<script class="script JQUERYPLUGIN::FARBTASTIC" src="JQueryPlugin.attachments/plugins/farbtastic/jquery.farbtastic.js?version=1.2"></script>
<script class="script JQUERYPLUGIN::FARBTASTIC" src="JQueryPlugin.attachments/plugins/farbtastic/jquery.farbtastic.init.js?version=1.2"></script><!--JQUERYPLUGIN::FARBTASTIC-->
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "SYSTEMWEB" : "System",
   "SCRIPTURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/bin",
   "URLHOST" : "http://biostat1478.dhcp.mc.vanderbilt.edu",
   "PUBURL" : "http://biostat1478.dhcp.mc.vanderbilt.edu/foswiki/pub",
   "COOKIEREALM" : "",
   "WIKINAME" : "WikiAdmin",
   "SKIN" : "natedit,pattern",
   "SCRIPTURLPATH" : "/foswiki/bin",
   "SCRIPTSUFFIX" : "",
   "WIKIUSERNAME" : "Main.WikiAdmin",
   "USERSWEB" : "Main",
   "TOPIC" : "DataForms",
   "SERVERTIME" : "08 Feb 2023 - 15:51",
   "WEB" : "System",
   "SCRIPTURLPATHS" : {},
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "USERNAME" : "WikiAdmin",
   "PUBURLPATH" : "/foswiki/pub"
}
</script><!--JQUERYPLUGIN::FOSWIKI::PREFERENCES-->
</head>
<body>
<p></p>
<h1 id="Data_Forms">  Data Forms </h1>
<p></p>
Structured data, how to set up and work with data forms.
<p></p>
<div class="foswikiToc" id="foswikiTOC"><span class="foswikiTocTitle">On this page:</span> <ul>
<li> <a href="#Overview"> Overview </a>
</li> <li> <a href="#The_data_definition"> The data definition </a> <ul>
<li> <a href="#The_data_form_topic"> The data form topic </a>
</li> <li> <a href="#The_form_table"> The form table </a> <ul>
<li> <a href="#Header_row"> Header row </a>
</li> <li> <a href="#Form_field_rows"> Form field rows </a>
</li></ul> 
</li> <li> <a href="#Form_field_attributes"> Form field attributes </a> <ul>
<li> <a href="#Name"> Name </a>
</li> <li> <a href="#Type"> Type </a> <ul>
<li> <a href="#Example_of_select_43values"> Example of select+values </a>
</li> <li> <a href="#Extending_the_range_of_form_data_types"> Extending the range of form data types </a>
</li></ul> 
</li> <li> <a href="#Size"> Size </a>
</li> <li> <a href="#Values"> Values </a>
</li> <li> <a href="#Default"> Default </a> <ul>
<li> <a href="#How_to_retrieve_values_from_other_topics"> How to retrieve values from other topics </a>
</li> <li> <a href="#How_to_set_field_values_using_a_macro"> How to set field values using a macro </a>
</li></ul> 
</li> <li> <a href="#Description"> Description </a>
</li> <li> <a href="#Attributes"> Attributes </a>
</li></ul> 
</li></ul> 
</li> <li> <a href="#Enabling_forms"> Enabling forms </a>
</li> <li> <a href="#Adding_a_form_to_a_topic"> Adding a form to a topic </a> <ul>
<li> <a href="#Manual_operation"> Manual operation </a>
</li> <li> <a href="#Automatically_adding_a_form_to_a_new_topic"> Automatically adding a form to a new topic </a> <ul>
<li> <a href="#Using_a_template_topic"> Using a template topic </a>
</li> <li> <a href="#Using_the_edit_template"> Using the edit template </a>
</li> <li> <a href="#Using_url_parameters"> Using url parameters </a>
</li></ul> 
</li> <li> <a href="#Using_a_web_form_to_create_a_topic_and_pass_data"> Using a web form to create a topic and pass data </a>
</li></ul> 
</li> <li> <a href="#Changing_a_form"> Changing a form </a>
</li> <li> <a href="#Searching_in_form_data"> Searching in form data </a>
</li></ul> 
</div>
<p></p>
<h2 id="Overview">  Overview </h2>
Next to freeform topic contents, each topic can store additional data in name/value pairs.
<p></p>
Topic data is normally not visible when you view a topic (except for a small table at the bottom of the topic - dependent on the used skin). Topic data works "behind the scenes" and facilitates searches, reports and custom displays.
<p></p>
Topic data, or better: structured data, can be used in many ways. The <a href="https://foswiki.org/Support/SupportQuestions">Foswiki Support questions</a> serves as a demonstration how topic data can be used: <ul>
<li> To create a complete list of "Support Questions" topics
</li> <li> To show a subset of all questions that have not been answered yet
</li> <li> To display the title and subject of each question
</li></ul> 
<p></p>
Another uses for structured data could be: <ul>
<li> Create a list of all contributions of one particular author
</li> <li> Create a quick report of all employee names and phone numbers
</li> <li> Create a software documentation repository
</li> <li> Create and track tasks
</li> <li> Create a bug tracker
</li></ul> 
<p></p>
<p></p>
To work with topic data, you will need 3 things: <ol>
<li> The data definition, specified in a table in a "data form" topic. The table lists all fields and their types - see <a class="foswikiCurrentTopicLink" href="#DataDefinition">The data definition</a>.
</li> <li> The web's WebPreferences needs to list the form in the <code>WEBFORMS</code> setting - see <a href="#EnablingForms" class="foswikiCurrentTopicLink">Enabling forms</a>.
</li> <li> The form must get connected to the topic - see <a href="#AddingAForm" class="foswikiCurrentTopicLink">Adding a form to a topic</a>.
</li></ol> 
Then you are ready to enter data values for each topic.
<p></p>
Optional further steps are: <ol>
<li> Create a template topic so that new topics based on that template have the form already added - see <a href="TemplateTopics.html">Template topics</a>.
</li> <li> Build an HTML form to create new topics based on that template topic, or to pass field values from the HTML form to the data form.
</li> <li> Expand form fields into the text using the <code>%FORMFIELD%</code> macro - see <a href="VarFORMFIELD.html">VarFORMFIELD</a>
</li> <li> Create a custom View Template to display your data. See <a href="SkinTemplates.html">SkinTemplates</a> and <a href="AutoViewTemplatePlugin.html">AutoViewTemplatePlugin</a>.
</li> <li> Build a search to create a report from the stored data
</li></ol> 
<p></p>
<p></p>
For a step by step tutorial, see the FAQ <a href="FAQAnApplicationWithWikiForm.html">How can I create a simple data form based application?</a>.
<p></p>
<div class="foswikiHelp">
Sometimes new users with a web programming background are confused how "data forms" and "HTML forms" are related. They are not related. But you'll see later on that you can use web forms to pass data to a topic data form.
</div>
<p></p>
<span id="DefiningForm"></span>
<span id="DataDefinition"></span>
<h2 id="The_data_definition">  The data definition </h2>
Topics can store data as name/value pairs, or form fields. The attributes of each form field are specified in the data definition, which is an ordinary topic.
<p></p>
<h3 id="The_data_form_topic">  The data form topic </h3>
The data definition is defined in a TML table and looks like this:
<pre class="tml">
&#124; &#42;Name&#42;  &#124; &#42;Type&#42; &#124; &#42;Size&#42; &#124; &#42;Values&#42; &#124; &#42;Description&#42; &#124; &#42;Attributes&#42; &#124; &#42;Default&#42; &#124;
&#124; TopicTitle &#124; text &#124; 100 &#124; &#124; Title of the topic &#124; H &#124; &#124;
&#124; Version &#124; select &#124; 1 &#124; Version in SVN,Foswiki 1.1.4,Foswiki 1.1.3,Foswiki 1.1.2,Foswiki 1.1.1 &#124; &#124; &#124; &#124;
&#124; Status &#124; select &#124; 1 &#124; Asked,More info required,Answered &#124; Mandatory status &#124; M &#124; Asked &#124;
&#124; Related Topics &#124; textboxlist &#124; &#124; &#124; &#124; &#124; &#124;
</pre>
In the next section we'll go into the details of the table contents.
<p></p>
The name of the data form topic usually ends with "Form". For example, the form topic for the Support Questions is named "QuestionForm". The form topic can be placed in any web, but usually this is in the same web as the topics that will be using it.
<p></p>
<div class="foswikiHelp">
<strong>Topic types</strong> <br />
You could consider the data form topic as the data <em>type</em>. For instance, all topics that use the form QuestionForm are topics of type "Question".
<p></p>
A useful core feature of Foswiki 1.1 is the automatic selection of view and edit templates based on the name of the form attached to a topic. With this we are really starting build up a topic as something resembling a typed object: its form name being the type identifier, and its form+templates as the details of its implementation. See <a href="https://foswiki.org/Extensions/AutoViewTemplatePlugin">AutoViewTemplatePlugin</a> for details of this feature.
</div>
<p></p>
<div class="foswikiHelp">
<strong>General Notes:</strong> <ul>
<li> The topic definition is not read when a topic is viewed.
</li> <li> Form definition topics can be protected in the usual manner, using  <a href="AccessControl.html">AccessControl</a>, to limit who can change the form definition and/or individual value lists. Note that view access is required to be able to edit topics that use the form definition, though view access to the form definition is <em>not</em> required to view a topic where the form has been used.
</li></ul> 
</div>
<p></p>
<span id="FormTable"></span>
<h3 id="The_form_table">  The form table </h3>
<em>A form is to a web as a table is to a database. -- Andrew Steele</em>
<p></p>
The data form table is a kind of spreadsheet: <ul>
<li> Each row of the table specifies one form field
</li> <li> The table header defines what attributes of the form fields need to be specified
</li></ul> 
<p></p>
The data form table contains up to 7 columns. The first three (Name, Type and Size) are required, the others are <em>optional</em>. <ol>
<li> Name
</li> <li> Type
</li> <li> Size
</li> <li> <em>Values</em>
</li> <li> <em>Description</em>
</li> <li> <em>Attributes</em>
</li> <li> <em>Default</em>
</li></ol> 
<p></p>
<h4 id="Header_row">  Header row </h4>
Data form tables often have an optional header row as a useful reminder of the column names:
<pre class="tml">
&#124; &#42;Name&#42;  &#124; &#42;Type&#42; &#124; &#42;Size&#42; &#124; &#42;Values&#42; &#124; &#42;Description&#42; &#124; &#42;Attributes&#42; &#124; &#42;Default&#42; &#124;
</pre>
<p></p>
<h4 id="Form_field_rows">  Form field rows </h4>
One form field is defined by each row in the table.
<p></p>
<table class="foswikiTable" id="tableDataForms1" rules="none">
	<tbody>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Name </td>
			<td class="foswikiTableCol1 foswikiLastCol"> The name of the form field; must be unique for that form. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Type </td>
			<td class="foswikiTableCol1 foswikiLastCol"> The data type: text, date, single or multi-value, labels (read-only). The type also defines how form field data can be entered in the edit screen, such as text field or radio buttons. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Size </td>
			<td class="foswikiTableCol1 foswikiLastCol"> The input size of the form field inputs on the edit screen. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Values </td>
			<td class="foswikiTableCol1 foswikiLastCol"> For checkboxes, radio buttons and dropdown lists: predefined input to select from. More advanced: this can be a dynamically generated list of values. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Description </td>
			<td class="foswikiTableCol1 foswikiLastCol"> A message that describes the field. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> Attributes </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Attributes controlling how the field is displayed. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> Default </td>
			<td class="foswikiTableCol1 foswikiLastCol foswikiLast"> <img width="30" title="NEW" height="16" alt="NEW" src="DocumentGraphics.attachments/new.png"> if there is a <code>default</code> column, its value (or lack of value) is used as the default for new fields. This allows you to default the value of <code>select</code>, <code>radio</code> and <code>checkbox</code> to something other than the first <code>values</code> element </td>
		</tr>
	</tbody></table>
<p></p>
<span id="FormFieldAttributes"></span>
<h3 id="Form_field_attributes">  Form field attributes </h3>
<h4 id="Name">  Name </h4>
The name of the form field.
<p></p> <ul>
<li> Names have to be unique for each data definition.
</li> <li> A very few field names are reserved. If you try to use one of these names, Foswiki will automatically append an underscore to the name when the form is used. But do <strong>not</strong> use the field name <code><b>undefined</b></code> (or any variant of that name, such as UnDefined), as that name is reserved for use in search queries.
</li> <li> You can space out the title of the field, and it will still find the topic e.g. <code>Aeroplane Manufacturers</code> is equivalent to <code>AeroplaneManufacturers</code>.
</li> <li> If a <code>label</code> field has no name, it will <strong>not</strong> be shown when the form is <strong>viewed</strong>, only when it is <strong>edited</strong>.
</li> <li> Field names can in theory include any text, but you should stick to alphanumeric characters. <ul>
<li> Leading and trailing spaces do not matter.
</li> <li> The field name used for a <code>select</code>, <code>checkbox</code> or <code>radio</code> field, can also be a topic-name used to fetch values from that topic.
</li> <li> You can use <code>[[...]]</code> double bracket links to link to a topic/field name that is not a wiki word.
</li> <li> You can also use square bracket links in the form of <code>[[topicname][field name]]</code> to use a field name other than the topic name. ie. <code>[[ComputerManufacturers][Made by]]</code>
</li>  </ul><div class='foswikiIndent'> (In this example, the topic <code>ComputerManufacturers</code> is used to fetch values for the <code>Madeby</code> field.)
</div> <ul>
<li> Spaces will be stripped from the field name. ie: <code>Made by</code> becomes <code>Madeby</code>.
</li> <li> Releases prior to Foswiki 2.0 also stripped characters other than A-Z, a-z, 0-9 and _.  So a field named <code>F&uuml;hler</code> would be stored as <code>Fhler</code>. The same field name on Foswiki 2.0 is stored as <code>F&uuml;hler</code>. (See <a href="UpgradeGuide.html">System.UpgradeGuide#DataForms_Applications</a> for more information.}
</li></ul> 
</li></ul> 
<p></p>
<span id="TypeTable"></span>
<h4 id="Type">  Type </h4>
The data type defines the kind of input: text, date, single or multi-value, or labels (read-only). This is done by setting the type of interface control on the edit screen: checkbox, radio button, text field, and so on.
<p></p>
The control appearance is also specified by size and (initial) value. More on those attributes below.
<p></p>
<table class="foswikiTable" id="tableDataForms2" rules="none">
	<thead>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<th class="foswikiTableCol0 foswikiFirstCol"> Type </th>
			<th class="foswikiTableCol1"> Description </th>
			<th class="foswikiTableCol2"> Size attribute </th>
			<th class="foswikiTableCol3"> Value attribute </th>
			<th class="foswikiTableCol4 foswikiLastCol"> Modifiers </th>
		</tr>
	</thead>
	<tbody>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>checkbox</code> </td>
			<td class="foswikiTableCol1"> One or more checkboxes. </td>
			<td class="foswikiTableCol2"> How many checkboxes will be displayed on each line. </td>
			<td class="foswikiTableCol3"> A comma-separated list of item labels. </td>
			<td class="foswikiTableCol4 foswikiLastCol"> <code>checkbox+buttons</code> will add <strong>Set</strong> and <strong>Clear</strong> buttons to the basic <code>checkbox</code> type. <br /> <code>checkbox+values</code> allows the definition of values that are different to the displayed text. </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>date</code> </td>
			<td class="foswikiTableCol1"> A single-line text box and a calendar icon button next to it; clicking on the button will bring up a calendar from which the user can select a date. The date can also be typed into the text box. </td>
			<td class="foswikiTableCol2"> The text box width in characters. </td>
			<td class="foswikiTableCol3"> The initial text (unless <code>default</code> column exists). </td>
			<td class="foswikiTableCol4 foswikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>label</code> </td>
			<td class="foswikiTableCol1"> Read-only label text. </td>
			<td class="foswikiTableCol2"> &nbsp; </td>
			<td class="foswikiTableCol3"> The text of the label. </td>
			<td class="foswikiTableCol4 foswikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>radio</code> </td>
			<td colspan="3"> Like <code>checkbox</code> except that radio buttons are mutually exclusive; only one can be selected. </td>
			<td class="foswikiTableCol4"> <code>radio+values</code> allows the definition of values that are different to the displayed text. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>select</code> </td>
			<td class="foswikiTableCol1"> A select box / dropdown. </td>
			<td class="foswikiTableCol2"> A fixed size for the box (e.g. <code>1</code>, or a range e.g. <code>3..10</code>. To get a dropdown, use size <code>1</code>. <br /> If you specify a range, the box will never be smaller than 3 items, never larger than 10, and will be 5 high if there are only 5 options. </td>
			<td class="foswikiTableCol3"> A comma-separated list of options for the box. </td>
			<td class="foswikiTableCol4 foswikiLastCol"> <code>select+multi</code> turns multiselect on for the select, to allow Shift+Click and Ctrl+Click to select (or deselect) multiple items. <br />   <code>select+values</code> allows the definition of values that are different to the displayed text. You can combine these modifiers e.g. <code>select+multi+values</code> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>text</code> </td>
			<td class="foswikiTableCol1"> A one-line text field. </td>
			<td class="foswikiTableCol2"> The text box width in number of characters. </td>
			<td class="foswikiTableCol3"> The initial (default) content when a new topic is created with this form definition (unless <code>default</code> column exists). </td>
			<td class="foswikiTableCol4 foswikiLastCol"> &nbsp; </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> <code>textarea</code> </td>
			<td class="foswikiTableCol1 foswikiLast"> A multi-line text box. </td>
			<td class="foswikiTableCol2 foswikiLast"> Size in columns x rows, e.g. <code>80x6</code>; default size is 40x5. </td>
			<td class="foswikiTableCol3 foswikiLast"> The initial text (unless <code>default</code> column exists). </td>
			<td class="foswikiTableCol4 foswikiLastCol foswikiLast"> &nbsp; </td>
		</tr>
	</tbody></table>
<p></p>
<div class='foswikiHelp'>
<h5 id="Example_of_select_43values">  Example of select+values </h5>
A formfield definition like:
<pre class="tml">
&#124; Field 9 &#124; select+values &#124; 1 &#124; One, Two&#61;2, Three&#61;III, Four &#124; Various values formats &#124;
</pre> 
<p></p>
displays as: 
<select name="Field9" size="1" class="foswikiSelect">
<option value="One" class="foswikiOption">One</option>
<option value="2" class="foswikiOption">Two</option>
<option value="III" class="foswikiOption">Three</option>
<option value="Four" class="foswikiOption">Four</option>
</select> 
<p></p>
The generated HTML code reveals that the form values differ from the option labels:
<pre class="tml">
&#60;select name&#61;&#34;Field9&#34; size&#61;&#34;1&#34; class&#61;&#34;foswikiSelect&#34;&#62;
&#60;option value&#61;&#34;One&#34; class&#61;&#34;foswikiOption&#34;&#62;One&#60;/option&#62;
&#60;option value&#61;&#34;2&#34; class&#61;&#34;foswikiOption&#34;&#62;Two&#60;/option&#62;
&#60;option value&#61;&#34;III&#34; class&#61;&#34;foswikiOption&#34;&#62;Three&#60;/option&#62;
&#60;option value&#61;&#34;Four&#34; class&#61;&#34;foswikiOption&#34;&#62;Four&#60;/option&#62;
&#60;/select&#62;
</pre>
</div>
<p></p>
<div class='foswikiHelp'>
<h5 id="Extending_the_range_of_form_data_types">  Extending the range of form data types </h5>
Some plugins add data types. For instance, <a href="JQueryPlugin.html">JQueryPlugin's</a> sub-plugin <a href="JQueryPlugin.html">JQueryFarbtastic</a> adds the data type <code>color</code>:
<pre class='tml'>
&#124; &#42;Name&#42;  &#124; &#42;Type&#42; &#124; &#42;Size&#42; &#124;
&#124; MyColor &#124; color &#124; 10 &#124;
</pre>
<p></p>
Example (click in the field to view):
<p></p>
<input type="text" id="color" name="color" value="#123456" class="jqFarbtastic" />
<hr />
<strong>Note to extension developers</strong> <br />
Such extended data types are single-valued (can only have one value) with the following exceptions: <ul>
<li> any type name starting with <code>checkbox</code>
</li> <li> any type name with <code>+multi</code> anywhere in the name
</li></ul> 
Types with names like this can both take multiple values.
</div>
<p></p>
<h4 id="Size">  Size </h4>
The input size of the form field inputs on the edit screen. The size acts a bit different for each type - see the <a class="foswikiCurrentTopicLink" href="#TypeTable">Type table</a> above.
<p></p>
<p></p>
<h4 id="Values">  Values </h4>
For checkboxes, radio buttons and dropdown lists: predefined input to select from. More advanced: this can be a dynamically generated list of values.
<p></p> <ul>
<li> The field value will be used to initialize a field when a form is created  (unless <code>default</code> column exists), unless specific values are given by the topic template or query parameters. The first item in the list for a select or radio type is the default item. For <code>label</code>, <code>text</code>, and <code>textarea</code> fields the value may also contain commas. <code>checkbox</code> fields cannot be initialized through the form definition.
</li> <li> Leading and trailing spaces do not matter.
</li> <li> Field values can also be generated through a <a href="FormattedSearch.html">FormattedSearch</a>, which must yield a suitable table as the result.
</li> <li> Macros in the initial values of a form definition get expanded when the form definition is loaded. <ul>
<li> If you want to use a <code>|</code> character in the initial values field, you have to precede it with a backslash, thus: <code>\|</code>. <ul>
<li> <code>\|</code> escaping is <em>_only active in the Values column.</em>  It is not usable elsewhere.  Use <code>&amp;vbar;</code> or <code>&amp;#124;</code> in other columns.
</li></ul> 
</li> <li> You can use <code>&lt;nop&gt;</code> to prevent macros from being expanded.
</li> <li> The <a href="FormatTokens.html">Format tokens</a> can be used to prevent expansion of other characters.
</li></ul> 
</li></ul> 
<p></p>
<h4 id="Default">  Default </h4>
If this column exists in the form definition, then it will be used to determine the default value for a field. It over-rides all defaulting from the <code>Values</code> column.
<p></p>
<div class='foswikiHelp'>
<h5 id="How_to_retrieve_values_from_other_topics">  How to retrieve values from other topics </h5>
If you have rows defined like this:
<pre class="tml">
&#124; &#42;Name&#42;  &#124; &#42;Type&#42; &#124; &#42;Size&#42; &#124;
&#124; AeroplaneManufacturers &#124; select &#124; &#124;
</pre>
... Foswiki will look for the topic AeroplaneManufacturers to get the possible values for the <code>select</code> field. 
<p></p>
The <code>Values</code> column <strong>must be empty</strong>.
<p></p>
The AeroplaneManufacturers topic must contain a table, where each row of the table describes a possible value. The table only requires one column, <code>Name</code>. Other columns may be present, but are ignored.
<p></p>
For example:
<pre class="tml">
&#124; &#42;Name&#42; &#124;
&#124; Routan &#124;
&#124; Focke-Wulf &#124;
&#124; De Havilland &#124;
</pre>
</div>
<p></p>
<div class='foswikiHelp'>
<h5 id="How_to_set_field_values_using_a_macro">  How to set field values using a macro </h5>
A powerful way to populate selectable field values is by using <a href="VarSEARCH.html">SEARCH</a> to generate a comma-separated list of values.
<p></p>
For example, to create a list of documentation topics whose name contain "Wiki", you write:
<pre class="tml">
&#124; &#42;Name&#42;  &#124; &#42;Type&#42; &#124; &#42;Size&#42; &#124; &#42;Values&#42; &#124;
&#124; Subject &#124; select+multi &#124; 10 &#124; ,&#37;SEARCH{ \
   &#34;Wiki&#34; \
   scope&#61;&#34;topic&#34; \
   web&#61;&#34;&#37;SYSTEMWEB&#37;&#34; \
   nonoise&#61;&#34;on&#34; \
   type&#61;&#34;regex&#34; \
   format&#61;&#34;&#36;topic&#34; \
   separator&#61;&#34;, &#34; \
}&#37; &#124;
</pre>
Note the use of the backslash to be able to write the macro in a more readable way using multiple lines. The comma just before the <code>SEARCH</code> means "empty value" to make it possible to select none.
<p></p>
Sometimes you have a topic with a bullet list that can be used as selectable values. The rather advanced <code>SEARCH</code> expression would be:
<pre class="tml">
&#124; Subject &#124; select+multi &#124; 10 &#124; ,&#37;SEARCH{ \
 &#34;   &#42;\s&#42;.&#42;?&#34; \
 topic&#61;&#34;QuestionSubjectCategory&#34; \
 type&#61;&#34;regex&#34; \
 multiple&#61;&#34;on&#34; \
 casesensitive&#61;&#34;on&#34; \
 nonoise&#61;&#34;on&#34; \
 separator&#61;&#34;,&#34; \
 format&#61;&#34;&#36;pattern(.&#42;   \&#42;\s&#42;(&#91;^
&#93;&#42;).&#42;)&#34; \
}&#37; &#124; &#124; &#124;
</pre>
You are not expected to write these kind of search expressions yourself, but if you like you can find more of these in <a href="SearchPatternCookbook.html">Search Pattern Cookbook</a>.
</div>
<p></p>
<div class='foswikiHelp'>
<strong>Fields and linefeeds</strong> <br />
Some browsers may strip linefeeds from <code>text</code> fields when a topic is saved. If you need linefeeds in a field, make sure it is a <code>textarea</code>.
</div>
<p></p>
<h4 id="Description">  Description </h4>
Description of the field. Sometimes used in help information.
<p></p>
<p></p>
<h4 id="Attributes">  Attributes </h4>
Whether the field is mandatory or hidden when viewed.
<p></p>
<table class="foswikiTable" id="tableDataForms3" rules="none">
	<tbody>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>H</code> </td>
			<td class="foswikiTableCol1 foswikiLastCol"> Indicates that this field should not be shown in view mode. However, the field is available for editing and storing information. </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> <code>M</code> </td>
			<td class="foswikiTableCol1 foswikiLastCol foswikiLast"> Indicates that this field is mandatory. The topic cannot be saved unless a value is provided for this field. If the field is found empty during topic save, the user is presented with an error message. Mandatory fields are indicated by an asterisk next to the field name. </td>
		</tr>
	</tbody></table>
<p></p>
Multiple attributes can be entered, separated by spaces:
<pre>
&#124; TopicTitle &#124; text &#124; 100 &#124; &#124; &#124; H M &#124;
</pre>
<p></p>
<p></p>
<span id="EnablingForms"></span>
<h2 id="Enabling_forms">  Enabling forms </h2>
Before connecting topics to a data definition, the definition must be enabled in the Web's WebPreferences topic.
<p></p>
This is done by adding the form topic name to the <code>WEBFORMS</code> setting. The setting accepts a comma-separated list of form topics:
<pre class="tml">
   &#42; Set WEBFORMS &#61; BugForm, FeatureForm, Books.BookLoanForm, &#37;USERSWEB&#37;.UserForm
</pre>
As you can see, form topics located in other webs can be added by using their web prefix.
<p></p>
You have to list the available form topics explicitly. You cannot use a <code>SEARCH</code> to define <code>WEBFORMS</code>.
<p></p>
<span id="AddingAForm"></span>
<h2 id="Adding_a_form_to_a_topic">  Adding a form to a topic </h2>
With <code>WEBFORMS</code> enabled, a form can be added or changed on the edit screen.
<p></p>
<h3 id="Manual_operation">  Manual operation </h3> <ol>
<li> Add a form: click the "Add form" button and select one of the forms in the list.
</li> <li> Switching or removing a form: click the "Change form" button and select another one, or none, from the list.
</li></ol> 
<p></p>
<h3 id="Automatically_adding_a_form_to_a_new_topic">  Automatically adding a form to a new topic </h3>
<h4 id="Using_a_template_topic">  Using a template topic </h4>
If you don't want users to select a form themselves, this step can be automated by using a <a href="TemplateTopics.html">template topic</a> that has the form connected.
<p></p>
For example, Question topics on foswiki.org are created using QuestionTemplate:
<pre>
%META:FORM{name="QuestionForm"}%
%META:FIELD{name="TopicTitle" attributes="H" title="TopicTitle" value=""}%
%META:FIELD{name="Subject" attributes="" title="Subject" value=""}%
%META:FIELD{name="Status" attributes="M" title="Status" value="Asked"}%
</pre>
In the template initial field values can be set, like the "Status" field in this example.
<p></p>
<h4 id="Using_the_edit_template">  Using the edit template </h4>
If you will use only one form in a web, you can also modify the web's <code>WebTopicEditTemplate</code> topic to contain the form reference.
<p></p>
<h4 id="Using_url_parameters">  Using url parameters </h4>
You can also pass the <code>formtemplate</code> parameter to the edit (not save) URL.
Initial values can then be provided in the URLs or as form values.
<p></p>
For example:
<pre>
&#37;SCRIPTURL{edit}&#37;/&#37;WEB&#37;/KnowledgeTopicAUTOINC00001?formtemplate&#61;MyForm;Subject&#61;FAQWhatIsWikiWiki;Category&#61;One;Category&#61;Two;action&#61;form
</pre>
<p></p> <ul>
<li> <code>XxxYyyAUTOINC00001</code>: creates a new auto-numbered topic name with base "XxxYyy" - see <a href="TemplateTopics.html">automatically generate unique topic names</a>
</li> <li> <code>formtemplate</code>: specifies the form topic, like: <code>formtemplate=MyForm</code>
</li> <li> form values: <code>name=value</code>, like: <code>Subject=FAQWhatIsWikiWiki</code>
</li> <li> form values with multiple values like checkboxes: <code>name=value1;name=value2</code>, like: <code>Category=One;Category=Two</code>
</li> <li> <code>action=form</code>: shows the topic data form and hides the topic text form
</li></ul> 
<p></p>
<h3 id="Using_a_web_form_to_create_a_topic_and_pass_data">  Using a web form to create a topic and pass data </h3>
If you want to create+save a topic instead of bringing up the edit screen, you must use a web form.
<p></p>
The same parameters as above can be set in HTML (hidden) form fields:
<pre class='tml'>
&#60;form name&#61;&#34;newtopic&#34; action&#61;&#34;&#37;SCRIPTURLPATH{&#34;save&#34;}&#37;/Sandbox/&#34; method&#61;&#34;post&#34;&#62;
&#60;input type&#61;&#34;hidden&#34; name&#61;&#34;formtemplate&#34; value&#61;&#34;SimpleForm&#34; /&#62;
&#60;input type&#61;&#34;hidden&#34; name&#61;&#34;topic&#34; value&#61;&#34;KnowledgeTopicAUTOINC00001&#34; /&#62;
&#60;input type&#61;&#34;hidden&#34; name&#61;&#34;Subject&#34; value&#61;&#34;FAQWhatIsWikiWiki&#34; /&#62;
&#60;input type&#61;&#34;hidden&#34; name&#61;&#34;Category&#34; value&#61;&#34;One&#34; /&#62;
&#60;input type&#61;&#34;hidden&#34; name&#61;&#34;Category&#34; value&#61;&#34;Two&#34; /&#62;
&#60;input type&#61;&#34;submit&#34; class&#61;&#34;foswikiSubmit&#34; value&#61;&#34;Create topic&#34; /&#62;
&#60;/form&#62;
</pre>
<p></p>
Creates:
<form name="newtopic" action="/foswiki/bin/save/Sandbox/" method="post">
<input type="hidden" name="formtemplate" value="SimpleForm" />
<input type="hidden" name="topic" value="KnowledgeTopicAUTOINC00001" />
<input type="hidden" name="Subject" value="FAQWhatIsWikiWiki" />
<input type="hidden" name="Category" value="One" />
<input type="hidden" name="Category" value="Two" />
<input type="submit" class="foswikiSubmit" value="Create topic" />
</form>
For an overview of web form parameters, see <a href="CommandAndCGIScripts.html">CGI and Command Line Scripts</a>.
<p></p>
<p></p>
<h2 id="Changing_a_form">  Changing a form </h2>
You can change a form definition, and Foswiki will try to make sure you don't lose any data from the topics that use that form. 
<p></p> <ul>
<li> If you change the form definition, the changes will not take affect in a topic that uses that form until you edit and save it.
</li> <li> If you add a new field to the form, then it will appear next time you edit a topic that uses the form.
</li> <li> If you delete a field from the form, or change a field name, then the data will not be visible when you edit the topic (the changed form definition will be used). <strong>If you save the topic, the old data will be lost</strong> (though thanks to revision control, you can always see it in older versions of the topic)
</li> <li> If two people edit the same topic containing a form at exactly the same time, and both change fields in the form, Foswiki will try to merge the changes so that no data is lost.
</li></ul> 
<p></p>
<span id="UsingFormData"></span>
<h2 id="Searching_in_form_data">  Searching in form data </h2>
The best way to search in form data is using the structured query language in the SEARCH macro.
<p></p>
As an example, the search used on <a href="https://foswiki.org/Support/SupportQuestions">Foswiki Support questions</a> is:
<pre>
&#37;SEARCH{
 &#34;QuestionForm.Status&#61;&#39;Asked&#39;&#34;
 type&#61;&#34;query&#34;
 excludetopic&#61;&#34;QuestionTemplate&#34;
 web&#61;&#34;&#37;WEB&#37;&#34;
 format&#61;&#34;   &#42; &#91;&#91;&#36;web.&#36;topic&#93;&#91;&#36;formfield(TopicTitle)&#93;&#93; &#36;formfield(Subject)&#34;
 order&#61;&#34;formfield(Extension)&#34;
 nonoise&#61;&#34;on&#34;
}&#37;
</pre>
For a step by step tutorial, see the FAQ <a href="FAQAnApplicationWithWikiForm.html">How can I create a simple data form based application?</a>.
<p></p>
See <a href="VarSEARCH.html">SEARCH</a> for an overview of <code>SEARCH</code> parameters, and <a href="QuerySearch.html">Query Search</a> for the query language specifics.
<p></p>
<p></p>
<p></p>
<hr />
<strong>Related Topics:</strong> <a href="DeveloperDocumentationCategory.html">DeveloperDocumentationCategory</a>, <a href="TemplateTopics.html">TemplateTopics</a>, <a href="FAQAnApplicationWithWikiForm.html">FAQAnApplicationWithWikiForm</a>, <a href="VarFORMFIELD.html">VarFORMFIELD</a>, <a href="SkinTemplates.html">SkinTemplates</a>
<!--  -->
<hr />
<p></p>
<hr />
<p></p>
</body>